{"{\"assumptions\":{},\"sourceRoot\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend\",\"filename\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/app.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"allowTopLevelThis\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _db = require(\"./db\");\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nvar _User = _interopRequireDefault(require(\"./routes/User\"));\n\nvar _Nurse = _interopRequireDefault(require(\"./routes/Nurse\"));\n\nvar _Assist = _interopRequireDefault(require(\"./routes/Assist\"));\n\nvar _Physician = _interopRequireDefault(require(\"./routes/Physician\"));\n\nvar _NursingHome = _interopRequireDefault(require(\"./routes/NursingHome\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst app = (0, _express.default)();\n(0, _db.mongoconnection)();\napp.use((0, _cors.default)({\n  origin: '*'\n}));\napp.use(_bodyParser.default.urlencoded({\n  extended: true\n}));\napp.use(_bodyParser.default.json());\napp.use(_bodyParser.default.json({\n  limit: \"50mb\"\n}));\napp.use(\"/user\", _User.default);\napp.use(\"/nurse\", _Nurse.default);\napp.use(\"/assist\", _Assist.default);\napp.use(\"/physician\", _Physician.default);\napp.use(\"/nursinghome\", _NursingHome.default);\napp.use(\"/uploads\", _express.default.static(\"uploads\"));\nvar _default = app;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhcHAiLCJleHByZXNzIiwibW9uZ29jb25uZWN0aW9uIiwidXNlIiwiY29ycyIsIm9yaWdpbiIsImJvZHlQYXJzZXIiLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJqc29uIiwibGltaXQiLCJVc2VyIiwiTnVyc2UiLCJBc3Npc3QiLCJQaHlzaWNpYW4iLCJOdXJzaW5nSG9tZSIsInN0YXRpYyJdLCJzb3VyY2VSb290IjoiL2hvbWUvcm9zaGFuaW1hbm1vZGUvUm9zaG5pIFByb2plY3QvY2FyZSBjb21tdW5pY2F0aW9uL2RvY2tOb2NrL0JhY2tlbmQvIiwic291cmNlcyI6WyJhcHAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgY29ycyBmcm9tICdjb3JzJztcbmltcG9ydCB7IG1vbmdvY29ubmVjdGlvbiB9IGZyb20gJy4vZGInO1xuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSAnYm9keS1wYXJzZXInO1xuaW1wb3J0IFVzZXIgZnJvbSAnLi9yb3V0ZXMvVXNlcidcbmltcG9ydCBOdXJzZSBmcm9tICcuL3JvdXRlcy9OdXJzZSdcbmltcG9ydCBBc3Npc3QgZnJvbSAnLi9yb3V0ZXMvQXNzaXN0J1xuaW1wb3J0IFBoeXNpY2lhbiBmcm9tICcuL3JvdXRlcy9QaHlzaWNpYW4nXG5pbXBvcnQgTnVyc2luZ0hvbWUgZnJvbSAnLi9yb3V0ZXMvTnVyc2luZ0hvbWUnXG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcbm1vbmdvY29ubmVjdGlvbigpO1xuXG5hcHAudXNlKGNvcnMoeyBvcmlnaW46ICcqJyB9KSk7XG5hcHAudXNlKGJvZHlQYXJzZXIudXJsZW5jb2RlZCh7XG4gICAgZXh0ZW5kZWQ6IHRydWUsXG59KSk7XG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcblxuYXBwLnVzZShib2R5UGFyc2VyLmpzb24oeyBsaW1pdDogXCI1MG1iXCIgfSkpO1xuXG5hcHAudXNlKFwiL3VzZXJcIiwgVXNlcik7XG5hcHAudXNlKFwiL251cnNlXCIsTnVyc2UpO1xuYXBwLnVzZShcIi9hc3Npc3RcIixBc3Npc3QpO1xuYXBwLnVzZShcIi9waHlzaWNpYW5cIixQaHlzaWNpYW4pO1xuYXBwLnVzZShcIi9udXJzaW5naG9tZVwiLE51cnNpbmdIb21lKVxuYXBwLnVzZShcIi91cGxvYWRzXCIsZXhwcmVzcy5zdGF0aWMoXCJ1cGxvYWRzXCIpKTtcblxuXG5leHBvcnQgZGVmYXVsdCBhcHA7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxHQUFHLEdBQUcsSUFBQUMsZ0JBQUEsR0FBWjtBQUNBLElBQUFDLG1CQUFBO0FBRUFGLEdBQUcsQ0FBQ0csR0FBSixDQUFRLElBQUFDLGFBQUEsRUFBSztFQUFFQyxNQUFNLEVBQUU7QUFBVixDQUFMLENBQVI7QUFDQUwsR0FBRyxDQUFDRyxHQUFKLENBQVFHLG1CQUFBLENBQVdDLFVBQVgsQ0FBc0I7RUFDMUJDLFFBQVEsRUFBRTtBQURnQixDQUF0QixDQUFSO0FBR0FSLEdBQUcsQ0FBQ0csR0FBSixDQUFRRyxtQkFBQSxDQUFXRyxJQUFYLEVBQVI7QUFFQVQsR0FBRyxDQUFDRyxHQUFKLENBQVFHLG1CQUFBLENBQVdHLElBQVgsQ0FBZ0I7RUFBRUMsS0FBSyxFQUFFO0FBQVQsQ0FBaEIsQ0FBUjtBQUVBVixHQUFHLENBQUNHLEdBQUosQ0FBUSxPQUFSLEVBQWlCUSxhQUFqQjtBQUNBWCxHQUFHLENBQUNHLEdBQUosQ0FBUSxRQUFSLEVBQWlCUyxjQUFqQjtBQUNBWixHQUFHLENBQUNHLEdBQUosQ0FBUSxTQUFSLEVBQWtCVSxlQUFsQjtBQUNBYixHQUFHLENBQUNHLEdBQUosQ0FBUSxZQUFSLEVBQXFCVyxrQkFBckI7QUFDQWQsR0FBRyxDQUFDRyxHQUFKLENBQVEsY0FBUixFQUF1Qlksb0JBQXZCO0FBQ0FmLEdBQUcsQ0FBQ0csR0FBSixDQUFRLFVBQVIsRUFBbUJGLGdCQUFBLENBQVFlLE1BQVIsQ0FBZSxTQUFmLENBQW5CO2VBR2VoQixHIn0=","map":{"version":3,"names":["app","express","mongoconnection","use","cors","origin","bodyParser","urlencoded","extended","json","limit","User","Nurse","Assist","Physician","NursingHome","static"],"sourceRoot":"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/","sources":["app.js"],"sourcesContent":["import express from 'express';\nimport cors from 'cors';\nimport { mongoconnection } from './db';\nimport bodyParser from 'body-parser';\nimport User from './routes/User'\nimport Nurse from './routes/Nurse'\nimport Assist from './routes/Assist'\nimport Physician from './routes/Physician'\nimport NursingHome from './routes/NursingHome'\n\nconst app = express();\nmongoconnection();\n\napp.use(cors({ origin: '*' }));\napp.use(bodyParser.urlencoded({\n    extended: true,\n}));\napp.use(bodyParser.json());\n\napp.use(bodyParser.json({ limit: \"50mb\" }));\n\napp.use(\"/user\", User);\napp.use(\"/nurse\",Nurse);\napp.use(\"/assist\",Assist);\napp.use(\"/physician\",Physician);\napp.use(\"/nursinghome\",NursingHome)\napp.use(\"/uploads\",express.static(\"uploads\"));\n\n\nexport default app;"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,GAAG,GAAG,IAAAC,gBAAA,GAAZ;AACA,IAAAC,mBAAA;AAEAF,GAAG,CAACG,GAAJ,CAAQ,IAAAC,aAAA,EAAK;EAAEC,MAAM,EAAE;AAAV,CAAL,CAAR;AACAL,GAAG,CAACG,GAAJ,CAAQG,mBAAA,CAAWC,UAAX,CAAsB;EAC1BC,QAAQ,EAAE;AADgB,CAAtB,CAAR;AAGAR,GAAG,CAACG,GAAJ,CAAQG,mBAAA,CAAWG,IAAX,EAAR;AAEAT,GAAG,CAACG,GAAJ,CAAQG,mBAAA,CAAWG,IAAX,CAAgB;EAAEC,KAAK,EAAE;AAAT,CAAhB,CAAR;AAEAV,GAAG,CAACG,GAAJ,CAAQ,OAAR,EAAiBQ,aAAjB;AACAX,GAAG,CAACG,GAAJ,CAAQ,QAAR,EAAiBS,cAAjB;AACAZ,GAAG,CAACG,GAAJ,CAAQ,SAAR,EAAkBU,eAAlB;AACAb,GAAG,CAACG,GAAJ,CAAQ,YAAR,EAAqBW,kBAArB;AACAd,GAAG,CAACG,GAAJ,CAAQ,cAAR,EAAuBY,oBAAvB;AACAf,GAAG,CAACG,GAAJ,CAAQ,UAAR,EAAmBF,gBAAA,CAAQe,MAAR,CAAe,SAAf,CAAnB;eAGehB,G"}},"mtime":1663238694156},"{\"assumptions\":{},\"sourceRoot\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend\",\"filename\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/db.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"allowTopLevelThis\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.mongoconnection = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nrequire(\"dotenv/config\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst config = require(\"./config\");\n\nconsole.log(process.env.Node_env);\nconst configvalue = config.get(process.env.Node_env);\nconst DB = configvalue[\"DB\"];\nvar options = {\n  user: DB.UserName,\n  pass: DB.Password\n};\nconst MONGOURI = `mongodb://${DB.HOST}:${DB.PORT}/${DB.DATABASE}`;\n\nconst mongoconnection = async () => {\n  try {\n    await _mongoose.default.connect(MONGOURI, options);\n    console.log(\"Connected to DB\");\n  } catch (e) {\n    console.log(e);\n    throw e;\n  }\n};\n\nexports.mongoconnection = mongoconnection;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWciLCJyZXF1aXJlIiwiY29uc29sZSIsImxvZyIsInByb2Nlc3MiLCJlbnYiLCJOb2RlX2VudiIsImNvbmZpZ3ZhbHVlIiwiZ2V0IiwiREIiLCJvcHRpb25zIiwidXNlciIsIlVzZXJOYW1lIiwicGFzcyIsIlBhc3N3b3JkIiwiTU9OR09VUkkiLCJIT1NUIiwiUE9SVCIsIkRBVEFCQVNFIiwibW9uZ29jb25uZWN0aW9uIiwibW9uZ29vc2UiLCJjb25uZWN0IiwiZSJdLCJzb3VyY2VSb290IjoiL2hvbWUvcm9zaGFuaW1hbm1vZGUvUm9zaG5pIFByb2plY3QvY2FyZSBjb21tdW5pY2F0aW9uL2RvY2tOb2NrL0JhY2tlbmQvIiwic291cmNlcyI6WyJkYi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XG5cbmNvbnN0IGNvbmZpZyA9IHJlcXVpcmUoXCIuL2NvbmZpZ1wiKVxuaW1wb3J0ICdkb3RlbnYvY29uZmlnJ1xuY29uc29sZS5sb2cocHJvY2Vzcy5lbnYuTm9kZV9lbnYpXG5jb25zdCBjb25maWd2YWx1ZSA9IGNvbmZpZy5nZXQocHJvY2Vzcy5lbnYuTm9kZV9lbnYpO1xuY29uc3QgREIgPSBjb25maWd2YWx1ZVtcIkRCXCJdO1xuXG52YXIgb3B0aW9ucyA9IHtcbiAgICB1c2VyOiBEQi5Vc2VyTmFtZSxcbiAgICBwYXNzOiBEQi5QYXNzd29yZCxcbn1cbmNvbnN0IE1PTkdPVVJJPSBgbW9uZ29kYjovLyR7REIuSE9TVH06JHtEQi5QT1JUfS8ke0RCLkRBVEFCQVNFfWBcbmV4cG9ydCBjb25zdCBtb25nb2Nvbm5lY3Rpb24gPSBhc3luYygpPT57XG4gICAgdHJ5e1xuICAgICAgICBhd2FpdCBtb25nb29zZS5jb25uZWN0KE1PTkdPVVJJLG9wdGlvbnMpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIkNvbm5lY3RlZCB0byBEQlwiKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgdGhyb3cgZVxuICAgIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFHQTs7OztBQURBLE1BQU1BLE1BQU0sR0FBR0MsT0FBTyxDQUFDLFVBQUQsQ0FBdEI7O0FBRUFDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsUUFBeEI7QUFDQSxNQUFNQyxXQUFXLEdBQUdQLE1BQU0sQ0FBQ1EsR0FBUCxDQUFXSixPQUFPLENBQUNDLEdBQVIsQ0FBWUMsUUFBdkIsQ0FBcEI7QUFDQSxNQUFNRyxFQUFFLEdBQUdGLFdBQVcsQ0FBQyxJQUFELENBQXRCO0FBRUEsSUFBSUcsT0FBTyxHQUFHO0VBQ1ZDLElBQUksRUFBRUYsRUFBRSxDQUFDRyxRQURDO0VBRVZDLElBQUksRUFBRUosRUFBRSxDQUFDSztBQUZDLENBQWQ7QUFJQSxNQUFNQyxRQUFRLEdBQUcsYUFBWU4sRUFBRSxDQUFDTyxJQUFLLElBQUdQLEVBQUUsQ0FBQ1EsSUFBSyxJQUFHUixFQUFFLENBQUNTLFFBQVMsRUFBL0Q7O0FBQ08sTUFBTUMsZUFBZSxHQUFHLFlBQVM7RUFDcEMsSUFBRztJQUNDLE1BQU1DLGlCQUFBLENBQVNDLE9BQVQsQ0FBaUJOLFFBQWpCLEVBQTBCTCxPQUExQixDQUFOO0lBQ0FSLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGlCQUFaO0VBQ0gsQ0FIRCxDQUdFLE9BQU1tQixDQUFOLEVBQVE7SUFDTnBCLE9BQU8sQ0FBQ0MsR0FBUixDQUFZbUIsQ0FBWjtJQUNBLE1BQU1BLENBQU47RUFDSDtBQUNKLENBUk0ifQ==","map":{"version":3,"names":["config","require","console","log","process","env","Node_env","configvalue","get","DB","options","user","UserName","pass","Password","MONGOURI","HOST","PORT","DATABASE","mongoconnection","mongoose","connect","e"],"sourceRoot":"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/","sources":["db.js"],"sourcesContent":["import mongoose from \"mongoose\";\n\nconst config = require(\"./config\")\nimport 'dotenv/config'\nconsole.log(process.env.Node_env)\nconst configvalue = config.get(process.env.Node_env);\nconst DB = configvalue[\"DB\"];\n\nvar options = {\n    user: DB.UserName,\n    pass: DB.Password,\n}\nconst MONGOURI= `mongodb://${DB.HOST}:${DB.PORT}/${DB.DATABASE}`\nexport const mongoconnection = async()=>{\n    try{\n        await mongoose.connect(MONGOURI,options);\n        console.log(\"Connected to DB\");\n    } catch(e){\n        console.log(e);\n        throw e\n    }\n}"],"mappings":";;;;;;;AAAA;;AAGA;;;;AADA,MAAMA,MAAM,GAAGC,OAAO,CAAC,UAAD,CAAtB;;AAEAC,OAAO,CAACC,GAAR,CAAYC,OAAO,CAACC,GAAR,CAAYC,QAAxB;AACA,MAAMC,WAAW,GAAGP,MAAM,CAACQ,GAAP,CAAWJ,OAAO,CAACC,GAAR,CAAYC,QAAvB,CAApB;AACA,MAAMG,EAAE,GAAGF,WAAW,CAAC,IAAD,CAAtB;AAEA,IAAIG,OAAO,GAAG;EACVC,IAAI,EAAEF,EAAE,CAACG,QADC;EAEVC,IAAI,EAAEJ,EAAE,CAACK;AAFC,CAAd;AAIA,MAAMC,QAAQ,GAAG,aAAYN,EAAE,CAACO,IAAK,IAAGP,EAAE,CAACQ,IAAK,IAAGR,EAAE,CAACS,QAAS,EAA/D;;AACO,MAAMC,eAAe,GAAG,YAAS;EACpC,IAAG;IACC,MAAMC,iBAAA,CAASC,OAAT,CAAiBN,QAAjB,EAA0BL,OAA1B,CAAN;IACAR,OAAO,CAACC,GAAR,CAAY,iBAAZ;EACH,CAHD,CAGE,OAAMmB,CAAN,EAAQ;IACNpB,OAAO,CAACC,GAAR,CAAYmB,CAAZ;IACA,MAAMA,CAAN;EACH;AACJ,CARM"}},"mtime":1662844288000},"{\"assumptions\":{},\"sourceRoot\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend\",\"filename\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/config.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"allowTopLevelThis\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.get = void 0;\nconst config = {\n  local: {\n    DB: {\n      HOST: \"127.0.0.1\",\n      PORT: \"27017\",\n      DATABASE: \"Mongoprg\",\n      MONGOOSE: {\n        useUnifinedTopology: true,\n        useNewUrlParser: true\n      },\n      UserName: \"\",\n      Password: \"\"\n    },\n    PORTNO: 8181\n  },\n  staging: {\n    DB: {\n      HOST: \"172.10.1.3\",\n      PORT: \"27017\",\n      DATABASE: \"roshnimanmode\",\n      MONGOOSE: {\n        useUndifinedTopology: true,\n        useNewUrlParser: true\n      },\n      UserName: \"roshnimanmode\",\n      Password: \"roshnimanmode45\"\n    },\n    PORTNO: 8080,\n    EMAIL: {\n      host: \"smp.gmail.com\",\n      port: 465,\n      username: \"shivamraj6370@gmail.com\",\n      password: \"daqfktbgfwuyxszq\"\n    }\n  }\n};\n\nconst get = function get(env) {\n  return config[env];\n};\n\nexports.get = get;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWciLCJsb2NhbCIsIkRCIiwiSE9TVCIsIlBPUlQiLCJEQVRBQkFTRSIsIk1PTkdPT1NFIiwidXNlVW5pZmluZWRUb3BvbG9neSIsInVzZU5ld1VybFBhcnNlciIsIlVzZXJOYW1lIiwiUGFzc3dvcmQiLCJQT1JUTk8iLCJzdGFnaW5nIiwidXNlVW5kaWZpbmVkVG9wb2xvZ3kiLCJFTUFJTCIsImhvc3QiLCJwb3J0IiwidXNlcm5hbWUiLCJwYXNzd29yZCIsImdldCIsImVudiJdLCJzb3VyY2VSb290IjoiL2hvbWUvcm9zaGFuaW1hbm1vZGUvUm9zaG5pIFByb2plY3QvY2FyZSBjb21tdW5pY2F0aW9uL2RvY2tOb2NrL0JhY2tlbmQvIiwic291cmNlcyI6WyJjb25maWcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXG5jb25zdCBjb25maWcgPSB7XG4gICAgbG9jYWw6IHtcbiAgICAgICAgREI6e1xuICAgICAgICAgICAgSE9TVDogXCIxMjcuMC4wLjFcIixcbiAgICAgICAgICAgIFBPUlQ6IFwiMjcwMTdcIixcbiAgICAgICAgICAgIERBVEFCQVNFOiBcIk1vbmdvcHJnXCIsXG4gICAgICAgICAgICBNT05HT09TRTp7XG4gICAgICAgICAgICAgICAgdXNlVW5pZmluZWRUb3BvbG9neTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB1c2VOZXdVcmxQYXJzZXI6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBVc2VyTmFtZTogXCJcIixcbiAgICAgICAgICAgIFBhc3N3b3JkOiBcIlwiXG4gICAgICAgIH0sXG4gICAgICAgIFBPUlROTyA6IDgxODEsXG4gICAgICAgXG4gICAgfSxcblxuICAgIHN0YWdpbmc6IHtcbiAgICAgICAgREI6e1xuICAgICAgICAgICAgSE9TVDogXCIxNzIuMTAuMS4zXCIsXG4gICAgICAgICAgICBQT1JUOiBcIjI3MDE3XCIsXG4gICAgICAgICAgICBEQVRBQkFTRTogXCJyb3NobmltYW5tb2RlXCIsXG4gICAgICAgICAgICBNT05HT09TRTp7XG4gICAgICAgICAgICAgICAgdXNlVW5kaWZpbmVkVG9wb2xvZ3k6IHRydWUsXG4gICAgICAgICAgICAgICAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgVXNlck5hbWU6IFwicm9zaG5pbWFubW9kZVwiLFxuICAgICAgICAgICAgUGFzc3dvcmQ6IFwicm9zaG5pbWFubW9kZTQ1XCJcbiAgICAgICAgfSxcbiAgICAgICAgUE9SVE5PIDogODA4MCxcbiAgICAgICAgRU1BSUwgOiB7XG4gICAgICAgICAgICBob3N0OiBcInNtcC5nbWFpbC5jb21cIixcbiAgICAgICAgICAgIHBvcnQ6ICA0NjUsXG4gICAgICAgICAgICB1c2VybmFtZTogXCJzaGl2YW1yYWo2MzcwQGdtYWlsLmNvbVwiLFxuICAgICAgICAgICAgcGFzc3dvcmQ6IFwiZGFxZmt0Ymdmd3V5eHN6cVwiLFxuICAgICAgICB9XG4gICAgfSxcbn1cbmV4cG9ydCBjb25zdCBnZXQgPSBmdW5jdGlvbiBnZXQgKGVudil7XG4gICAgcmV0dXJuIGNvbmZpZ1tlbnZdO1xufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ0EsTUFBTUEsTUFBTSxHQUFHO0VBQ1hDLEtBQUssRUFBRTtJQUNIQyxFQUFFLEVBQUM7TUFDQ0MsSUFBSSxFQUFFLFdBRFA7TUFFQ0MsSUFBSSxFQUFFLE9BRlA7TUFHQ0MsUUFBUSxFQUFFLFVBSFg7TUFJQ0MsUUFBUSxFQUFDO1FBQ0xDLG1CQUFtQixFQUFFLElBRGhCO1FBRUxDLGVBQWUsRUFBRTtNQUZaLENBSlY7TUFRQ0MsUUFBUSxFQUFFLEVBUlg7TUFTQ0MsUUFBUSxFQUFFO0lBVFgsQ0FEQTtJQVlIQyxNQUFNLEVBQUc7RUFaTixDQURJO0VBaUJYQyxPQUFPLEVBQUU7SUFDTFYsRUFBRSxFQUFDO01BQ0NDLElBQUksRUFBRSxZQURQO01BRUNDLElBQUksRUFBRSxPQUZQO01BR0NDLFFBQVEsRUFBRSxlQUhYO01BSUNDLFFBQVEsRUFBQztRQUNMTyxvQkFBb0IsRUFBRSxJQURqQjtRQUVMTCxlQUFlLEVBQUU7TUFGWixDQUpWO01BUUNDLFFBQVEsRUFBRSxlQVJYO01BU0NDLFFBQVEsRUFBRTtJQVRYLENBREU7SUFZTEMsTUFBTSxFQUFHLElBWko7SUFhTEcsS0FBSyxFQUFHO01BQ0pDLElBQUksRUFBRSxlQURGO01BRUpDLElBQUksRUFBRyxHQUZIO01BR0pDLFFBQVEsRUFBRSx5QkFITjtNQUlKQyxRQUFRLEVBQUU7SUFKTjtFQWJIO0FBakJFLENBQWY7O0FBc0NPLE1BQU1DLEdBQUcsR0FBRyxTQUFTQSxHQUFULENBQWNDLEdBQWQsRUFBa0I7RUFDakMsT0FBT3BCLE1BQU0sQ0FBQ29CLEdBQUQsQ0FBYjtBQUNILENBRk0ifQ==","map":{"version":3,"names":["config","local","DB","HOST","PORT","DATABASE","MONGOOSE","useUnifinedTopology","useNewUrlParser","UserName","Password","PORTNO","staging","useUndifinedTopology","EMAIL","host","port","username","password","get","env"],"sourceRoot":"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/","sources":["config.js"],"sourcesContent":["\nconst config = {\n    local: {\n        DB:{\n            HOST: \"127.0.0.1\",\n            PORT: \"27017\",\n            DATABASE: \"Mongoprg\",\n            MONGOOSE:{\n                useUnifinedTopology: true,\n                useNewUrlParser: true\n            },\n            UserName: \"\",\n            Password: \"\"\n        },\n        PORTNO : 8181,\n       \n    },\n\n    staging: {\n        DB:{\n            HOST: \"172.10.1.3\",\n            PORT: \"27017\",\n            DATABASE: \"roshnimanmode\",\n            MONGOOSE:{\n                useUndifinedTopology: true,\n                useNewUrlParser: true\n            },\n            UserName: \"roshnimanmode\",\n            Password: \"roshnimanmode45\"\n        },\n        PORTNO : 8080,\n        EMAIL : {\n            host: \"smp.gmail.com\",\n            port:  465,\n            username: \"shivamraj6370@gmail.com\",\n            password: \"daqfktbgfwuyxszq\",\n        }\n    },\n}\nexport const get = function get (env){\n    return config[env];\n}"],"mappings":";;;;;;AACA,MAAMA,MAAM,GAAG;EACXC,KAAK,EAAE;IACHC,EAAE,EAAC;MACCC,IAAI,EAAE,WADP;MAECC,IAAI,EAAE,OAFP;MAGCC,QAAQ,EAAE,UAHX;MAICC,QAAQ,EAAC;QACLC,mBAAmB,EAAE,IADhB;QAELC,eAAe,EAAE;MAFZ,CAJV;MAQCC,QAAQ,EAAE,EARX;MASCC,QAAQ,EAAE;IATX,CADA;IAYHC,MAAM,EAAG;EAZN,CADI;EAiBXC,OAAO,EAAE;IACLV,EAAE,EAAC;MACCC,IAAI,EAAE,YADP;MAECC,IAAI,EAAE,OAFP;MAGCC,QAAQ,EAAE,eAHX;MAICC,QAAQ,EAAC;QACLO,oBAAoB,EAAE,IADjB;QAELL,eAAe,EAAE;MAFZ,CAJV;MAQCC,QAAQ,EAAE,eARX;MASCC,QAAQ,EAAE;IATX,CADE;IAYLC,MAAM,EAAG,IAZJ;IAaLG,KAAK,EAAG;MACJC,IAAI,EAAE,eADF;MAEJC,IAAI,EAAG,GAFH;MAGJC,QAAQ,EAAE,yBAHN;MAIJC,QAAQ,EAAE;IAJN;EAbH;AAjBE,CAAf;;AAsCO,MAAMC,GAAG,GAAG,SAASA,GAAT,CAAcC,GAAd,EAAkB;EACjC,OAAOpB,MAAM,CAACoB,GAAD,CAAb;AACH,CAFM"}},"mtime":1663747540046},"{\"assumptions\":{},\"sourceRoot\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend\",\"filename\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/routes/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"allowTopLevelThis\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _User = require(\"../controller/User\");\n\nvar _verifyToken = require(\"../middleware/verifyToken\");\n\nvar _uploadFile = require(\"../middleware/uploadFile\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nrouter.post('/userSignup', _User.userSignup);\nrouter.post('/userLogin', _User.userLogin);\nrouter.get(\"/getUserDataById\", _verifyToken.verifyToken, _User.getUserDataById);\nrouter.put('/updateUser', _uploadFile.upload.single('image'), _User.updateUser);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwicG9zdCIsInVzZXJTaWdudXAiLCJ1c2VyTG9naW4iLCJnZXQiLCJ2ZXJpZnlUb2tlbiIsImdldFVzZXJEYXRhQnlJZCIsInB1dCIsInVwbG9hZCIsInNpbmdsZSIsInVwZGF0ZVVzZXIiXSwic291cmNlUm9vdCI6Ii9ob21lL3Jvc2hhbmltYW5tb2RlL1Jvc2huaSBQcm9qZWN0L2NhcmUgY29tbXVuaWNhdGlvbi9kb2NrTm9jay9CYWNrZW5kL3JvdXRlcy8iLCJzb3VyY2VzIjpbIlVzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQge3VzZXJTaWdudXAgLCB1c2VyTG9naW4gLCBnZXRVc2VyRGF0YUJ5SWQgLCB1cGRhdGVVc2VyfSBmcm9tICcuLi9jb250cm9sbGVyL1VzZXInXG5pbXBvcnQge3ZlcmlmeVRva2VufSBmcm9tICcuLi9taWRkbGV3YXJlL3ZlcmlmeVRva2VuJ1xuaW1wb3J0IHsgdXBsb2FkIH0gZnJvbSAnLi4vbWlkZGxld2FyZS91cGxvYWRGaWxlJztcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxucm91dGVyLnBvc3QoJy91c2VyU2lnbnVwJyx1c2VyU2lnbnVwKTtcbnJvdXRlci5wb3N0KCcvdXNlckxvZ2luJyx1c2VyTG9naW4pO1xucm91dGVyLmdldChcIi9nZXRVc2VyRGF0YUJ5SWRcIix2ZXJpZnlUb2tlbixnZXRVc2VyRGF0YUJ5SWQpO1xucm91dGVyLnB1dCgnL3VwZGF0ZVVzZXInLHVwbG9hZC5zaW5nbGUoJ2ltYWdlJyksdXBkYXRlVXNlcik7XG5cblxuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxNQUFNLEdBQUdDLGdCQUFBLENBQVFDLE1BQVIsRUFBZjs7QUFFQUYsTUFBTSxDQUFDRyxJQUFQLENBQVksYUFBWixFQUEwQkMsZ0JBQTFCO0FBQ0FKLE1BQU0sQ0FBQ0csSUFBUCxDQUFZLFlBQVosRUFBeUJFLGVBQXpCO0FBQ0FMLE1BQU0sQ0FBQ00sR0FBUCxDQUFXLGtCQUFYLEVBQThCQyx3QkFBOUIsRUFBMENDLHFCQUExQztBQUNBUixNQUFNLENBQUNTLEdBQVAsQ0FBVyxhQUFYLEVBQXlCQyxrQkFBQSxDQUFPQyxNQUFQLENBQWMsT0FBZCxDQUF6QixFQUFnREMsZ0JBQWhEO2VBSWVaLE0ifQ==","map":{"version":3,"names":["router","express","Router","post","userSignup","userLogin","get","verifyToken","getUserDataById","put","upload","single","updateUser"],"sourceRoot":"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/routes/","sources":["User.js"],"sourcesContent":["import express from 'express';\nimport {userSignup , userLogin , getUserDataById , updateUser} from '../controller/User'\nimport {verifyToken} from '../middleware/verifyToken'\nimport { upload } from '../middleware/uploadFile';\n\nconst router = express.Router();\n\nrouter.post('/userSignup',userSignup);\nrouter.post('/userLogin',userLogin);\nrouter.get(\"/getUserDataById\",verifyToken,getUserDataById);\nrouter.put('/updateUser',upload.single('image'),updateUser);\n\n\n\nexport default router;"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,MAAM,GAAGC,gBAAA,CAAQC,MAAR,EAAf;;AAEAF,MAAM,CAACG,IAAP,CAAY,aAAZ,EAA0BC,gBAA1B;AACAJ,MAAM,CAACG,IAAP,CAAY,YAAZ,EAAyBE,eAAzB;AACAL,MAAM,CAACM,GAAP,CAAW,kBAAX,EAA8BC,wBAA9B,EAA0CC,qBAA1C;AACAR,MAAM,CAACS,GAAP,CAAW,aAAX,EAAyBC,kBAAA,CAAOC,MAAP,CAAc,OAAd,CAAzB,EAAgDC,gBAAhD;eAIeZ,M"}},"mtime":1663303866193},"{\"assumptions\":{},\"sourceRoot\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/controller/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend\",\"filename\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/controller/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"allowTopLevelThis\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.userSignup = exports.userLogin = exports.updateUser = exports.getUserDataById = void 0;\n\nvar _User = _interopRequireDefault(require(\"../model/User\"));\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Signup API  -post method\nconst userSignup = async (req, res) => {\n  const userAdd = new _User.default({\n    name: req.body.name,\n    email: req.body.email,\n    password: _bcrypt.default.hashSync(req.body.password, 8),\n    role: req.body.role\n  });\n  const data = await userAdd.save();\n  res.send({\n    status: \"200\",\n    message: \"Admin registered successfully\",\n    result: data\n  });\n}; // Login API  -post method\n\n\nexports.userSignup = userSignup;\n\nconst userLogin = async (req, res) => {\n  const {\n    email,\n    password\n  } = req.body;\n  console.log(password);\n  const result = await _User.default.findOne({\n    email\n  });\n\n  if (!result) {\n    res.send({\n      status: false,\n      message: \"Invalid Credentials-Email is Incorrect !!!\"\n    });\n  }\n\n  const isValid = _bcrypt.default.compare(password, result.password);\n\n  console.log(result.password);\n\n  if (isValid) {\n    let payload = {};\n    payload._id = result._id;\n    console.log(result);\n\n    _jsonwebtoken.default.sign(payload, \"SECRET_KEY\", {\n      expiresIn: \"24h\"\n    }, (err, token) => {\n      res.send({\n        status: true,\n        message: \"Successfully Login\",\n        token: token,\n        role: result.role,\n        result: result\n      });\n    });\n  } else {\n    res.send({\n      status: false,\n      message: \"Password is incorrect- Please enter correct password\"\n    });\n  }\n}; // get data by ID\n\n\nexports.userLogin = userLogin;\n\nconst getUserDataById = async (req, res) => {\n  try {\n    let dataid = await _User.default.findOne({\n      _id: _mongoose.default.Types.ObjectId(req.query._id)\n    });\n    res.send({\n      status: \"200\",\n      message: \"successfully getting data by id\",\n      result: dataid\n    });\n  } catch (e) {\n    throw e;\n  }\n};\n\nexports.getUserDataById = getUserDataById;\n\nconst updateUser = async (req, res) => {\n  try {\n    let jsondata = {};\n\n    if (req.body.name) {\n      jsondata.name = req.body.name;\n    }\n\n    if (req.body.location) {\n      jsondata.location = req.body.location;\n    }\n\n    if (req.body.contact) {\n      jsondata.contact = req.body.contact;\n    }\n\n    if (req.body.password) {\n      jsondata.password = _bcrypt.default.hashSync(req.body.password, 8);\n    }\n\n    if (req.file.filename) {\n      jsondata.image = req.file.filename;\n    }\n\n    if (req.body.role) {\n      jsondata.role = req.body.role;\n    }\n\n    console.log(req.body.password);\n    console.log(req.body.email);\n\n    _User.default.updateOne({\n      email: req.body.email\n    }, {\n      $set: jsondata\n    }, {\n      new: true\n    }, (err, result) => {\n      if (err) {\n        res.send({\n          status: 404,\n          message: \"failed\",\n          result: err\n        });\n      } else {\n        res.send({\n          status: 200,\n          message: \"update successfully\",\n          result: result\n        });\n      }\n    });\n  } catch (e) {\n    throw e;\n  }\n};\n\nexports.updateUser = updateUser;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyU2lnbnVwIiwicmVxIiwicmVzIiwidXNlckFkZCIsIlVzZXIiLCJuYW1lIiwiYm9keSIsImVtYWlsIiwicGFzc3dvcmQiLCJiY3J5cHQiLCJoYXNoU3luYyIsInJvbGUiLCJkYXRhIiwic2F2ZSIsInNlbmQiLCJzdGF0dXMiLCJtZXNzYWdlIiwicmVzdWx0IiwidXNlckxvZ2luIiwiY29uc29sZSIsImxvZyIsImZpbmRPbmUiLCJpc1ZhbGlkIiwiY29tcGFyZSIsInBheWxvYWQiLCJfaWQiLCJqd3QiLCJzaWduIiwiZXhwaXJlc0luIiwiZXJyIiwidG9rZW4iLCJnZXRVc2VyRGF0YUJ5SWQiLCJkYXRhaWQiLCJtb25nb29zZSIsIlR5cGVzIiwiT2JqZWN0SWQiLCJxdWVyeSIsImUiLCJ1cGRhdGVVc2VyIiwianNvbmRhdGEiLCJsb2NhdGlvbiIsImNvbnRhY3QiLCJmaWxlIiwiZmlsZW5hbWUiLCJpbWFnZSIsInVwZGF0ZU9uZSIsIiRzZXQiLCJuZXciXSwic291cmNlUm9vdCI6Ii9ob21lL3Jvc2hhbmltYW5tb2RlL1Jvc2huaSBQcm9qZWN0L2NhcmUgY29tbXVuaWNhdGlvbi9kb2NrTm9jay9CYWNrZW5kL2NvbnRyb2xsZXIvIiwic291cmNlcyI6WyJVc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVc2VyIGZyb20gXCIuLi9tb2RlbC9Vc2VyXCI7XG5pbXBvcnQgYmNyeXB0IGZyb20gXCJiY3J5cHRcIjtcbmltcG9ydCBqd3QgZnJvbSBcImpzb253ZWJ0b2tlblwiO1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xuXG4vLyBTaWdudXAgQVBJICAtcG9zdCBtZXRob2RcbmV4cG9ydCBjb25zdCB1c2VyU2lnbnVwID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHVzZXJBZGQgPSBuZXcgVXNlcih7XG4gICAgbmFtZTogcmVxLmJvZHkubmFtZSxcbiAgICBlbWFpbDogcmVxLmJvZHkuZW1haWwsXG4gICAgcGFzc3dvcmQ6IGJjcnlwdC5oYXNoU3luYyhyZXEuYm9keS5wYXNzd29yZCwgOCksXG4gICAgcm9sZTogcmVxLmJvZHkucm9sZSxcblxuICB9KTtcblxuICBjb25zdCBkYXRhID0gYXdhaXQgdXNlckFkZC5zYXZlKCk7XG4gIHJlcy5zZW5kKHtcbiAgICBzdGF0dXM6IFwiMjAwXCIsXG4gICAgbWVzc2FnZTogXCJBZG1pbiByZWdpc3RlcmVkIHN1Y2Nlc3NmdWxseVwiLFxuICAgIHJlc3VsdDogZGF0YSxcbiAgfSk7XG59O1xuXG4vLyBMb2dpbiBBUEkgIC1wb3N0IG1ldGhvZFxuZXhwb3J0IGNvbnN0IHVzZXJMb2dpbiA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XG5jb25zb2xlLmxvZyhwYXNzd29yZClcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgVXNlci5maW5kT25lKHsgZW1haWwgfSk7XG4gIGlmICghcmVzdWx0KSB7XG4gICAgcmVzLnNlbmQoe1xuICAgICAgc3RhdHVzOiBmYWxzZSxcbiAgICAgIG1lc3NhZ2U6IFwiSW52YWxpZCBDcmVkZW50aWFscy1FbWFpbCBpcyBJbmNvcnJlY3QgISEhXCIsXG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBpc1ZhbGlkID0gYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIHJlc3VsdC5wYXNzd29yZCk7XG5jb25zb2xlLmxvZyhyZXN1bHQucGFzc3dvcmQpXG4gIGlmIChpc1ZhbGlkKSB7XG4gICAgbGV0IHBheWxvYWQgPSB7fTtcbiAgICBwYXlsb2FkLl9pZCA9IHJlc3VsdC5faWQ7XG4gICAgY29uc29sZS5sb2cocmVzdWx0KTtcbiAgICBqd3Quc2lnbihwYXlsb2FkLCBcIlNFQ1JFVF9LRVlcIiwgeyBleHBpcmVzSW46IFwiMjRoXCIgfSwgKGVyciwgdG9rZW4pID0+IHtcbiAgICAgIHJlcy5zZW5kKHsgXG4gICAgICAgIHN0YXR1czogdHJ1ZSxcbiAgICAgICAgbWVzc2FnZTogXCJTdWNjZXNzZnVsbHkgTG9naW5cIixcbiAgICAgICAgdG9rZW46IHRva2VuLFxuICAgICAgICByb2xlOiByZXN1bHQucm9sZSxcbiAgICAgICAgcmVzdWx0OnJlc3VsdFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmVzLnNlbmQoe1xuICAgICAgc3RhdHVzOiBmYWxzZSxcbiAgICAgIG1lc3NhZ2U6IFwiUGFzc3dvcmQgaXMgaW5jb3JyZWN0LSBQbGVhc2UgZW50ZXIgY29ycmVjdCBwYXNzd29yZFwiLFxuICAgIH0pO1xuICB9XG59O1xuXG4vLyBnZXQgZGF0YSBieSBJRFxuZXhwb3J0IGNvbnN0IGdldFVzZXJEYXRhQnlJZCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICB0cnkge1xuICAgIGxldCBkYXRhaWQgPSBhd2FpdCBVc2VyLmZpbmRPbmUoe1xuICAgICAgX2lkOiBtb25nb29zZS5UeXBlcy5PYmplY3RJZChyZXEucXVlcnkuX2lkKSxcbiAgICB9KTtcbiAgICByZXMuc2VuZCh7XG4gICAgICBzdGF0dXM6IFwiMjAwXCIsXG4gICAgICBtZXNzYWdlOiBcInN1Y2Nlc3NmdWxseSBnZXR0aW5nIGRhdGEgYnkgaWRcIixcbiAgICAgIHJlc3VsdDogZGF0YWlkLFxuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgdGhyb3cgZTtcbiAgfVxufTtcblxuXG5leHBvcnQgY29uc3QgdXBkYXRlVXNlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICB0cnkge1xuICAgIGxldCBqc29uZGF0YSA9IHt9O1xuXG4gICAgaWYgKHJlcS5ib2R5Lm5hbWUpIHtcbiAgICAgIGpzb25kYXRhLm5hbWUgPSByZXEuYm9keS5uYW1lO1xuICAgIH1cbiAgICBpZiAocmVxLmJvZHkubG9jYXRpb24pIHtcbiAgICAgIGpzb25kYXRhLmxvY2F0aW9uID0gcmVxLmJvZHkubG9jYXRpb247XG4gICAgfVxuICAgIGlmIChyZXEuYm9keS5jb250YWN0KSB7XG4gICAgICBqc29uZGF0YS5jb250YWN0ID0gcmVxLmJvZHkuY29udGFjdDtcbiAgICB9XG4gICAgaWYgKHJlcS5ib2R5LnBhc3N3b3JkKSB7XG4gICAgICBqc29uZGF0YS5wYXNzd29yZCA9IGJjcnlwdC5oYXNoU3luYyhyZXEuYm9keS5wYXNzd29yZCwgOClcbiAgICB9XG4gICAgaWYgKHJlcS5maWxlLmZpbGVuYW1lKSB7XG4gICAgICBqc29uZGF0YS5pbWFnZSA9IHJlcS5maWxlLmZpbGVuYW1lXG4gICAgfVxuICAgIGlmIChyZXEuYm9keS5yb2xlKSB7XG4gICAgICBqc29uZGF0YS5yb2xlID0gcmVxLmJvZHkucm9sZVxuICAgIH1cbiAgICAgY29uc29sZS5sb2cocmVxLmJvZHkucGFzc3dvcmQpXG5jb25zb2xlLmxvZyhyZXEuYm9keS5lbWFpbClcbiAgIFxuICAgIFVzZXIudXBkYXRlT25lKFxuICAgICAgeyBlbWFpbDogcmVxLmJvZHkuZW1haWwgfSxcbiAgICAgIHsgJHNldDoganNvbmRhdGEgfSxcbiAgICAgIHsgbmV3OiB0cnVlIH0sXG4gICAgICAoZXJyLCByZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJlcy5zZW5kKHsgc3RhdHVzOiA0MDQsIG1lc3NhZ2U6IFwiZmFpbGVkXCIsIHJlc3VsdDogZXJyIH0pO1xuICAgICAgICB9IGVsc2UgeyBcbiAgICAgICAgICByZXMuc2VuZCh7XG4gICAgICAgICAgICBzdGF0dXM6IDIwMCxcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwidXBkYXRlIHN1Y2Nlc3NmdWxseVwiLFxuICAgICAgICAgICAgcmVzdWx0OiByZXN1bHQsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICB9IGNhdGNoIChlKSB7XG4gICAgdGhyb3cgZTtcbiAgfVxufTsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBO0FBQ08sTUFBTUEsVUFBVSxHQUFHLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtF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","map":{"version":3,"names":["userSignup","req","res","userAdd","User","name","body","email","password","bcrypt","hashSync","role","data","save","send","status","message","result","userLogin","console","log","findOne","isValid","compare","payload","_id","jwt","sign","expiresIn","err","token","getUserDataById","dataid","mongoose","Types","ObjectId","query","e","updateUser","jsondata","location","contact","file","filename","image","updateOne","$set","new"],"sourceRoot":"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/controller/","sources":["User.js"],"sourcesContent":["import User from \"../model/User\";\nimport bcrypt from \"bcrypt\";\nimport jwt from \"jsonwebtoken\";\nimport mongoose from \"mongoose\";\n\n// Signup API  -post method\nexport const userSignup = async (req, res) => {\n  const userAdd = new User({\n    name: req.body.name,\n    email: req.body.email,\n    password: bcrypt.hashSync(req.body.password, 8),\n    role: req.body.role,\n\n  });\n\n  const data = await userAdd.save();\n  res.send({\n    status: \"200\",\n    message: \"Admin registered successfully\",\n    result: data,\n  });\n};\n\n// Login API  -post method\nexport const userLogin = async (req, res) => {\n  const { email, password } = req.body;\nconsole.log(password)\n  const result = await User.findOne({ email });\n  if (!result) {\n    res.send({\n      status: false,\n      message: \"Invalid Credentials-Email is Incorrect !!!\",\n    });\n  }\n\n  const isValid = bcrypt.compare(password, result.password);\nconsole.log(result.password)\n  if (isValid) {\n    let payload = {};\n    payload._id = result._id;\n    console.log(result);\n    jwt.sign(payload, \"SECRET_KEY\", { expiresIn: \"24h\" }, (err, token) => {\n      res.send({ \n        status: true,\n        message: \"Successfully Login\",\n        token: token,\n        role: result.role,\n        result:result\n      });\n    });\n  } else {\n    res.send({\n      status: false,\n      message: \"Password is incorrect- Please enter correct password\",\n    });\n  }\n};\n\n// get data by ID\nexport const getUserDataById = async (req, res) => {\n  try {\n    let dataid = await User.findOne({\n      _id: mongoose.Types.ObjectId(req.query._id),\n    });\n    res.send({\n      status: \"200\",\n      message: \"successfully getting data by id\",\n      result: dataid,\n    });\n  } catch (e) {\n    throw e;\n  }\n};\n\n\nexport const updateUser = async (req, res) => {\n  try {\n    let jsondata = {};\n\n    if (req.body.name) {\n      jsondata.name = req.body.name;\n    }\n    if (req.body.location) {\n      jsondata.location = req.body.location;\n    }\n    if (req.body.contact) {\n      jsondata.contact = req.body.contact;\n    }\n    if (req.body.password) {\n      jsondata.password = bcrypt.hashSync(req.body.password, 8)\n    }\n    if (req.file.filename) {\n      jsondata.image = req.file.filename\n    }\n    if (req.body.role) {\n      jsondata.role = req.body.role\n    }\n     console.log(req.body.password)\nconsole.log(req.body.email)\n   \n    User.updateOne(\n      { email: req.body.email },\n      { $set: jsondata },\n      { new: true },\n      (err, result) => {\n        if (err) {\n          res.send({ status: 404, message: \"failed\", result: err });\n        } else { \n          res.send({\n            status: 200,\n            message: \"update successfully\",\n            result: result,\n          });\n        }\n      }\n    );\n  } catch (e) {\n    throw e;\n  }\n};"],"mappings":"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"}},"mtime":1663747633034},"{\"assumptions\":{},\"sourceRoot\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/model/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend\",\"filename\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/model/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"allowTopLevelThis\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _mongoosePaginateV = _interopRequireDefault(require(\"mongoose-paginate-v2\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst userSchema = new _mongoose.default.Schema({\n  // _id: String,\n  name: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String,\n    required: false\n  },\n  contact: {\n    type: String,\n    default: null\n  },\n  role: {\n    enum: [\"0\", \"1\", \"2\", \"3\", \"4\"],\n    type: String // enum: [0, 1, 2,3, 4], /*   0 = Admin, 1 = Nusing Home, 2 = Assisted Living, 3 = Physicians, 4 = Nurses*/      required: true,\n\n  },\n  password: {\n    type: String\n  },\n  nursing_company: {\n    type: String\n  },\n  location: {\n    type: String\n  },\n  description: {\n    type: String\n  },\n  status: {\n    type: Number,\n    default: 0\n  },\n  nursing_home_id: {\n    type: Array,\n    ref: \"users\"\n  },\n  assissted_living_id: {\n    type: Array,\n    ref: \"users\"\n  },\n  image: {\n    type: String\n  }\n});\nuserSchema.plugin(_mongoosePaginateV.default);\n\nconst User = _mongoose.default.model(\"User\", userSchema);\n\nvar _default = User;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyU2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiZW1haWwiLCJjb250YWN0IiwiZGVmYXVsdCIsInJvbGUiLCJlbnVtIiwicGFzc3dvcmQiLCJudXJzaW5nX2NvbXBhbnkiLCJsb2NhdGlvbiIsImRlc2NyaXB0aW9uIiwic3RhdHVzIiwiTnVtYmVyIiwibnVyc2luZ19ob21lX2lkIiwiQXJyYXkiLCJyZWYiLCJhc3Npc3N0ZWRfbGl2aW5nX2lkIiwiaW1hZ2UiLCJwbHVnaW4iLCJwYWdpbmF0ZSIsIlVzZXIiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiL2hvbWUvcm9zaGFuaW1hbm1vZGUvUm9zaG5pIFByb2plY3QvY2FyZSBjb21tdW5pY2F0aW9uL2RvY2tOb2NrL0JhY2tlbmQvbW9kZWwvIiwic291cmNlcyI6WyJVc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcbmltcG9ydCBwYWdpbmF0ZSAgZnJvbSAnbW9uZ29vc2UtcGFnaW5hdGUtdjInO1xuXG5jb25zdCB1c2VyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYShcbiAge1xuICAgIC8vIF9pZDogU3RyaW5nLFxuICAgIG5hbWU6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIH0sXG4gICAgZW1haWw6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICB9LFxuICAgIGNvbnRhY3Q6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6IG51bGwsXG4gICAgfSxcbiAgICByb2xlOiB7XG4gICAgICBlbnVtOiBbXCIwXCIsXCIxXCIsXCIyXCIsXCIzXCIsXCI0XCJdLFxuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgLy8gZW51bTogWzAsIDEsIDIsMywgNF0sIC8qICAgMCA9IEFkbWluLCAxID0gTnVzaW5nIEhvbWUsIDIgPSBBc3Npc3RlZCBMaXZpbmcsIDMgPSBQaHlzaWNpYW5zLCA0ID0gTnVyc2VzKi8gICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICB9LFxuICAgIHBhc3N3b3JkOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgIFxuICAgIH0sXG4gICAgbnVyc2luZ19jb21wYW55OiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgfSxcbiAgICBsb2NhdGlvbjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgIH0sXG4gICAgZGVzY3JpcHRpb246IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICB9LFxuICAgIHN0YXR1czoge1xuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgZGVmYXVsdDogMCxcbiAgICB9LFxuICAgIG51cnNpbmdfaG9tZV9pZDoge1xuICAgICAgdHlwZTogQXJyYXksXG4gICAgICByZWY6IFwidXNlcnNcIixcbiAgICB9LFxuICAgIGFzc2lzc3RlZF9saXZpbmdfaWQ6IHtcbiAgICAgIHR5cGU6IEFycmF5LFxuICAgICAgcmVmOiBcInVzZXJzXCIsXG4gICAgfSxcbiAgICBpbWFnZToge1xuICAgICAgdHlwZTogU3RyaW5nXG4gICAgfVxufVxuKTtcblxuICBcbnVzZXJTY2hlbWEucGx1Z2luKHBhZ2luYXRlKTtcbmNvbnN0IFVzZXIgPSBtb25nb29zZS5tb2RlbChcIlVzZXJcIix1c2VyU2NoZW1hKTtcbmV4cG9ydCBkZWZhdWx0IFVzZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxVQUFVLEdBQUcsSUFBSUMsaUJBQUEsQ0FBU0MsTUFBYixDQUNqQjtFQUNFO0VBQ0FDLElBQUksRUFBRTtJQUNKQyxJQUFJLEVBQUVDLE1BREY7SUFFSkMsUUFBUSxFQUFFO0VBRk4sQ0FGUjtFQU1FQyxLQUFLLEVBQUU7SUFDTEgsSUFBSSxFQUFFQyxNQUREO0lBRUxDLFFBQVEsRUFBRTtFQUZMLENBTlQ7RUFVRUUsT0FBTyxFQUFFO0lBQ1BKLElBQUksRUFBRUMsTUFEQztJQUVQSSxPQUFPLEVBQUU7RUFGRixDQVZYO0VBY0VDLElBQUksRUFBRTtJQUNKQyxJQUFJLEVBQUUsQ0FBQyxHQUFELEVBQUssR0FBTCxFQUFTLEdBQVQsRUFBYSxHQUFiLEVBQWlCLEdBQWpCLENBREY7SUFFSlAsSUFBSSxFQUFFQyxNQUZGLENBR0o7O0VBSEksQ0FkUjtFQW1CRU8sUUFBUSxFQUFFO0lBQ1JSLElBQUksRUFBRUM7RUFERSxDQW5CWjtFQXVCRVEsZUFBZSxFQUFFO0lBQ2ZULElBQUksRUFBRUM7RUFEUyxDQXZCbkI7RUEwQkVTLFFBQVEsRUFBRTtJQUNSVixJQUFJLEVBQUVDO0VBREUsQ0ExQlo7RUE2QkVVLFdBQVcsRUFBRTtJQUNYWCxJQUFJLEVBQUVDO0VBREssQ0E3QmY7RUFnQ0VXLE1BQU0sRUFBRTtJQUNOWixJQUFJLEVBQUVhLE1BREE7SUFFTlIsT0FBTyxFQUFFO0VBRkgsQ0FoQ1Y7RUFvQ0VTLGVBQWUsRUFBRTtJQUNmZCxJQUFJLEVBQUVlLEtBRFM7SUFFZkMsR0FBRyxFQUFFO0VBRlUsQ0FwQ25CO0VBd0NFQyxtQkFBbUIsRUFBRTtJQUNuQmpCLElBQUksRUFBRWUsS0FEYTtJQUVuQkMsR0FBRyxFQUFFO0VBRmMsQ0F4Q3ZCO0VBNENFRSxLQUFLLEVBQUU7SUFDTGxCLElBQUksRUFBRUM7RUFERDtBQTVDVCxDQURpQixDQUFuQjtBQW9EQUwsVUFBVSxDQUFDdUIsTUFBWCxDQUFrQkMsMEJBQWxCOztBQUNBLE1BQU1DLElBQUksR0FBR3hCLGlCQUFBLENBQVN5QixLQUFULENBQWUsTUFBZixFQUFzQjFCLFVBQXRCLENBQWI7O2VBQ2V5QixJIn0=","map":{"version":3,"names":["userSchema","mongoose","Schema","name","type","String","required","email","contact","default","role","enum","password","nursing_company","location","description","status","Number","nursing_home_id","Array","ref","assissted_living_id","image","plugin","paginate","User","model"],"sourceRoot":"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/model/","sources":["User.js"],"sourcesContent":["import mongoose from \"mongoose\";\nimport paginate  from 'mongoose-paginate-v2';\n\nconst userSchema = new mongoose.Schema(\n  {\n    // _id: String,\n    name: {\n      type: String,\n      required: true,\n    },\n    email: {\n      type: String,\n      required: false,\n    },\n    contact: {\n      type: String,\n      default: null,\n    },\n    role: {\n      enum: [\"0\",\"1\",\"2\",\"3\",\"4\"],\n      type: String,\n      // enum: [0, 1, 2,3, 4], /*   0 = Admin, 1 = Nusing Home, 2 = Assisted Living, 3 = Physicians, 4 = Nurses*/      required: true,\n    },\n    password: {\n      type: String,\n     \n    },\n    nursing_company: {\n      type: String,\n    },\n    location: {\n      type: String,\n    },\n    description: {\n      type: String,\n    },\n    status: {\n      type: Number,\n      default: 0,\n    },\n    nursing_home_id: {\n      type: Array,\n      ref: \"users\",\n    },\n    assissted_living_id: {\n      type: Array,\n      ref: \"users\",\n    },\n    image: {\n      type: String\n    }\n}\n);\n\n  \nuserSchema.plugin(paginate);\nconst User = mongoose.model(\"User\",userSchema);\nexport default User;"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,UAAU,GAAG,IAAIC,iBAAA,CAASC,MAAb,CACjB;EACE;EACAC,IAAI,EAAE;IACJC,IAAI,EAAEC,MADF;IAEJC,QAAQ,EAAE;EAFN,CAFR;EAMEC,KAAK,EAAE;IACLH,IAAI,EAAEC,MADD;IAELC,QAAQ,EAAE;EAFL,CANT;EAUEE,OAAO,EAAE;IACPJ,IAAI,EAAEC,MADC;IAEPI,OAAO,EAAE;EAFF,CAVX;EAcEC,IAAI,EAAE;IACJC,IAAI,EAAE,CAAC,GAAD,EAAK,GAAL,EAAS,GAAT,EAAa,GAAb,EAAiB,GAAjB,CADF;IAEJP,IAAI,EAAEC,MAFF,CAGJ;;EAHI,CAdR;EAmBEO,QAAQ,EAAE;IACRR,IAAI,EAAEC;EADE,CAnBZ;EAuBEQ,eAAe,EAAE;IACfT,IAAI,EAAEC;EADS,CAvBnB;EA0BES,QAAQ,EAAE;IACRV,IAAI,EAAEC;EADE,CA1BZ;EA6BEU,WAAW,EAAE;IACXX,IAAI,EAAEC;EADK,CA7Bf;EAgCEW,MAAM,EAAE;IACNZ,IAAI,EAAEa,MADA;IAENR,OAAO,EAAE;EAFH,CAhCV;EAoCES,eAAe,EAAE;IACfd,IAAI,EAAEe,KADS;IAEfC,GAAG,EAAE;EAFU,CApCnB;EAwCEC,mBAAmB,EAAE;IACnBjB,IAAI,EAAEe,KADa;IAEnBC,GAAG,EAAE;EAFc,CAxCvB;EA4CEE,KAAK,EAAE;IACLlB,IAAI,EAAEC;EADD;AA5CT,CADiB,CAAnB;AAoDAL,UAAU,CAACuB,MAAX,CAAkBC,0BAAlB;;AACA,MAAMC,IAAI,GAAGxB,iBAAA,CAASyB,KAAT,CAAe,MAAf,EAAsB1B,UAAtB,CAAb;;eACeyB,I"}},"mtime":1663242241739},"{\"assumptions\":{},\"sourceRoot\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/middleware/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend\",\"filename\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/middleware/verifyToken.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"allowTopLevelThis\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.verifyToken = void 0;\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst verifyToken = async (req, res, next) => {\n  try {\n    const token = req.header(\"Authorization\");\n    let jwtSecretKey = \"SECRET_KEY\";\n\n    if (!token) {\n      return res.send({\n        status: true,\n        message: \"token is null\"\n      });\n    }\n\n    const decode = _jsonwebtoken.default.verify(token, jwtSecretKey);\n\n    req.result = decode;\n    next();\n  } catch (error) {\n    console.log(error);\n    return res.send({\n      status: false,\n      message: \"Failedd\",\n      result: error\n    });\n  }\n};\n\nexports.verifyToken = verifyToken;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ2ZXJpZnlUb2tlbiIsInJlcSIsInJlcyIsIm5leHQiLCJ0b2tlbiIsImhlYWRlciIsImp3dFNlY3JldEtleSIsInNlbmQiLCJzdGF0dXMiLCJtZXNzYWdlIiwiZGVjb2RlIiwiand0IiwidmVyaWZ5IiwicmVzdWx0IiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9yb3NoYW5pbWFubW9kZS9Sb3NobmkgUHJvamVjdC9jYXJlIGNvbW11bmljYXRpb24vZG9ja05vY2svQmFja2VuZC9taWRkbGV3YXJlLyIsInNvdXJjZXMiOlsidmVyaWZ5VG9rZW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGp3dCBmcm9tIFwianNvbndlYnRva2VuXCI7XG5cbmV4cG9ydCBjb25zdCB2ZXJpZnlUb2tlbiA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHRva2VuID0gcmVxLmhlYWRlcihcIkF1dGhvcml6YXRpb25cIik7XG4gICAgbGV0IGp3dFNlY3JldEtleSA9IFwiU0VDUkVUX0tFWVwiO1xuXG4gICAgaWYgKCF0b2tlbikge1xuICAgICAgcmV0dXJuIHJlcy5zZW5kKHtcbiAgICAgICAgc3RhdHVzOiB0cnVlLFxuICAgICAgICBtZXNzYWdlOiBcInRva2VuIGlzIG51bGxcIixcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBkZWNvZGUgPSBqd3QudmVyaWZ5KHRva2VuLCBqd3RTZWNyZXRLZXkpO1xuICAgIHJlcS5yZXN1bHQgPSBkZWNvZGU7XG4gICAgbmV4dCgpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICByZXR1cm4gcmVzLnNlbmQoe1xuICAgICAgc3RhdHVzOiBmYWxzZSxcbiAgICAgIG1lc3NhZ2U6IFwiRmFpbGVkZFwiLFxuICAgICAgcmVzdWx0OiBlcnJvcixcbiAgICB9KTtcbiAgfVxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRU8sTUFBTUEsV0FBVyxHQUFHLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixFQUFpQkMsSUFBakIsS0FBMEI7RUFDbkQsSUFBSTtJQUNGLE1BQU1DLEtBQUssR0FBR0gsR0FBRyxDQUFDSSxNQUFKLENBQVcsZUFBWCxDQUFkO0lBQ0EsSUFBSUMsWUFBWSxHQUFHLFlBQW5COztJQUVBLElBQUksQ0FBQ0YsS0FBTCxFQUFZO01BQ1YsT0FBT0YsR0FBRyxDQUFDSyxJQUFKLENBQVM7UUFDZEMsTUFBTSxFQUFFLElBRE07UUFFZEMsT0FBTyxFQUFFO01BRkssQ0FBVCxDQUFQO0lBSUQ7O0lBQ0QsTUFBTUMsTUFBTSxHQUFHQyxxQkFBQSxDQUFJQyxNQUFKLENBQVdSLEtBQVgsRUFBa0JFLFlBQWxCLENBQWY7O0lBQ0FMLEdBQUcsQ0FBQ1ksTUFBSixHQUFhSCxNQUFiO0lBQ0FQLElBQUk7RUFDTCxDQWJELENBYUUsT0FBT1csS0FBUCxFQUFjO0lBQ2RDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRixLQUFaO0lBQ0EsT0FBT1osR0FBRyxDQUFDSyxJQUFKLENBQVM7TUFDZEMsTUFBTSxFQUFFLEtBRE07TUFFZEMsT0FBTyxFQUFFLFNBRks7TUFHZEksTUFBTSxFQUFFQztJQUhNLENBQVQsQ0FBUDtFQUtEO0FBQ0YsQ0F0Qk0ifQ==","map":{"version":3,"names":["verifyToken","req","res","next","token","header","jwtSecretKey","send","status","message","decode","jwt","verify","result","error","console","log"],"sourceRoot":"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/middleware/","sources":["verifyToken.js"],"sourcesContent":["import jwt from \"jsonwebtoken\";\n\nexport const verifyToken = async (req, res, next) => {\n  try {\n    const token = req.header(\"Authorization\");\n    let jwtSecretKey = \"SECRET_KEY\";\n\n    if (!token) {\n      return res.send({\n        status: true,\n        message: \"token is null\",\n      });\n    }\n    const decode = jwt.verify(token, jwtSecretKey);\n    req.result = decode;\n    next();\n  } catch (error) {\n    console.log(error);\n    return res.send({\n      status: false,\n      message: \"Failedd\",\n      result: error,\n    });\n  }\n};\n"],"mappings":";;;;;;;AAAA;;;;AAEO,MAAMA,WAAW,GAAG,OAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB,KAA0B;EACnD,IAAI;IACF,MAAMC,KAAK,GAAGH,GAAG,CAACI,MAAJ,CAAW,eAAX,CAAd;IACA,IAAIC,YAAY,GAAG,YAAnB;;IAEA,IAAI,CAACF,KAAL,EAAY;MACV,OAAOF,GAAG,CAACK,IAAJ,CAAS;QACdC,MAAM,EAAE,IADM;QAEdC,OAAO,EAAE;MAFK,CAAT,CAAP;IAID;;IACD,MAAMC,MAAM,GAAGC,qBAAA,CAAIC,MAAJ,CAAWR,KAAX,EAAkBE,YAAlB,CAAf;;IACAL,GAAG,CAACY,MAAJ,GAAaH,MAAb;IACAP,IAAI;EACL,CAbD,CAaE,OAAOW,KAAP,EAAc;IACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ;IACA,OAAOZ,GAAG,CAACK,IAAJ,CAAS;MACdC,MAAM,EAAE,KADM;MAEdC,OAAO,EAAE,SAFK;MAGdI,MAAM,EAAEC;IAHM,CAAT,CAAP;EAKD;AACF,CAtBM"}},"mtime":1662844288000},"{\"assumptions\":{},\"sourceRoot\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/middleware/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend\",\"filename\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/middleware/uploadFile.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"allowTopLevelThis\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.upload = void 0;\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar storage = _multer.default.diskStorage({\n  destination: function (req, file, cb) {\n    cb(null, 'uploads');\n  },\n  filename: function (req, file, cb) {\n    console.log(file.mimetype);\n    const ext = file.mimetype.split(\"/\")[1];\n    cb(null, file.fieldname + '-' + Date.now() + '.' + ext);\n  }\n});\n\nconst upload = (0, _multer.default)({\n  storage: storage\n});\nexports.upload = upload;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzdG9yYWdlIiwibXVsdGVyIiwiZGlza1N0b3JhZ2UiLCJkZXN0aW5hdGlvbiIsInJlcSIsImZpbGUiLCJjYiIsImZpbGVuYW1lIiwiY29uc29sZSIsImxvZyIsIm1pbWV0eXBlIiwiZXh0Iiwic3BsaXQiLCJmaWVsZG5hbWUiLCJEYXRlIiwibm93IiwidXBsb2FkIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9yb3NoYW5pbWFubW9kZS9Sb3NobmkgUHJvamVjdC9jYXJlIGNvbW11bmljYXRpb24vZG9ja05vY2svQmFja2VuZC9taWRkbGV3YXJlLyIsInNvdXJjZXMiOlsidXBsb2FkRmlsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbXVsdGVyIGZyb20gJ211bHRlcic7XG5cbnZhciBzdG9yYWdlID0gbXVsdGVyLmRpc2tTdG9yYWdlKHtcbiAgICBkZXN0aW5hdGlvbjpmdW5jdGlvbihyZXEsIGZpbGUsIGNiKSB7XG4gICAgICAgIGNiKG51bGwsICd1cGxvYWRzJylcbiAgICB9LFxuICAgIGZpbGVuYW1lOiBmdW5jdGlvbihyZXEsIGZpbGUsIGNiKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGZpbGUubWltZXR5cGUpXG4gICAgICAgIGNvbnN0IGV4dCA9IGZpbGUubWltZXR5cGUuc3BsaXQoXCIvXCIpWzFdO1xuICAgICAgICBjYihudWxsLCBmaWxlLmZpZWxkbmFtZSArICctJyArIERhdGUubm93KCkgKyAnLicgK2V4dClcbiAgICB9XG59KVxuXG5leHBvcnQgY29uc3QgdXBsb2FkID0gbXVsdGVyKHtzdG9yYWdlOiBzdG9yYWdlfSkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVBLElBQUlBLE9BQU8sR0FBR0MsZUFBQSxDQUFPQyxXQUFQLENBQW1CO0VBQzdCQyxXQUFXLEVBQUMsVUFBU0MsR0FBVCxFQUFjQyxJQUFkLEVBQW9CQyxFQUFwQixFQUF3QjtJQUNoQ0EsRUFBRSxDQUFDLElBQUQsRUFBTyxTQUFQLENBQUY7RUFDSCxDQUg0QjtFQUk3QkMsUUFBUSxFQUFFLFVBQVNILEdBQVQsRUFBY0MsSUFBZCxFQUFvQkMsRUFBcEIsRUFBd0I7SUFDOUJFLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSixJQUFJLENBQUNLLFFBQWpCO0lBQ0EsTUFBTUMsR0FBRyxHQUFHTixJQUFJLENBQUNLLFFBQUwsQ0FBY0UsS0FBZCxDQUFvQixHQUFwQixFQUF5QixDQUF6QixDQUFaO0lBQ0FOLEVBQUUsQ0FBQyxJQUFELEVBQU9ELElBQUksQ0FBQ1EsU0FBTCxHQUFpQixHQUFqQixHQUF1QkMsSUFBSSxDQUFDQyxHQUFMLEVBQXZCLEdBQW9DLEdBQXBDLEdBQXlDSixHQUFoRCxDQUFGO0VBQ0g7QUFSNEIsQ0FBbkIsQ0FBZDs7QUFXTyxNQUFNSyxNQUFNLEdBQUcsSUFBQWYsZUFBQSxFQUFPO0VBQUNELE9BQU8sRUFBRUE7QUFBVixDQUFQLENBQWYifQ==","map":{"version":3,"names":["storage","multer","diskStorage","destination","req","file","cb","filename","console","log","mimetype","ext","split","fieldname","Date","now","upload"],"sourceRoot":"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/middleware/","sources":["uploadFile.js"],"sourcesContent":["import multer from 'multer';\n\nvar storage = multer.diskStorage({\n    destination:function(req, file, cb) {\n        cb(null, 'uploads')\n    },\n    filename: function(req, file, cb) {\n        console.log(file.mimetype)\n        const ext = file.mimetype.split(\"/\")[1];\n        cb(null, file.fieldname + '-' + Date.now() + '.' +ext)\n    }\n})\n\nexport const upload = multer({storage: storage})"],"mappings":";;;;;;;AAAA;;;;AAEA,IAAIA,OAAO,GAAGC,eAAA,CAAOC,WAAP,CAAmB;EAC7BC,WAAW,EAAC,UAASC,GAAT,EAAcC,IAAd,EAAoBC,EAApB,EAAwB;IAChCA,EAAE,CAAC,IAAD,EAAO,SAAP,CAAF;EACH,CAH4B;EAI7BC,QAAQ,EAAE,UAASH,GAAT,EAAcC,IAAd,EAAoBC,EAApB,EAAwB;IAC9BE,OAAO,CAACC,GAAR,CAAYJ,IAAI,CAACK,QAAjB;IACA,MAAMC,GAAG,GAAGN,IAAI,CAACK,QAAL,CAAcE,KAAd,CAAoB,GAApB,EAAyB,CAAzB,CAAZ;IACAN,EAAE,CAAC,IAAD,EAAOD,IAAI,CAACQ,SAAL,GAAiB,GAAjB,GAAuBC,IAAI,CAACC,GAAL,EAAvB,GAAoC,GAApC,GAAyCJ,GAAhD,CAAF;EACH;AAR4B,CAAnB,CAAd;;AAWO,MAAMK,MAAM,GAAG,IAAAf,eAAA,EAAO;EAACD,OAAO,EAAEA;AAAV,CAAP,CAAf"}},"mtime":1663222687394},"{\"assumptions\":{},\"sourceRoot\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend\",\"filename\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/routes/Nurse.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"allowTopLevelThis\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _Nurse = require(\"../controller/Nurse\");\n\nvar _uploadFile = require(\"../middleware/uploadFile\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nrouter.post('/addnurse', _uploadFile.upload.single('image'), _Nurse.addnurse);\nrouter.post('/nurseLogin', _Nurse.nurseLogin);\nrouter.post('/getnurshe', _Nurse.getnurshe);\nrouter.put('/nurseUpdate', _Nurse.nurseUpdate);\nrouter.delete('/nurseDelete/:id', _Nurse.nurseDelete);\nrouter.get('/list', _Nurse.List);\nrouter.get('/getNurseDataById/:id', _Nurse.getNurseDataById);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwicG9zdCIsInVwbG9hZCIsInNpbmdsZSIsImFkZG51cnNlIiwibnVyc2VMb2dpbiIsImdldG51cnNoZSIsInB1dCIsIm51cnNlVXBkYXRlIiwiZGVsZXRlIiwibnVyc2VEZWxldGUiLCJnZXQiLCJMaXN0IiwiZ2V0TnVyc2VEYXRhQnlJZCJdLCJzb3VyY2VSb290IjoiL2hvbWUvcm9zaGFuaW1hbm1vZGUvUm9zaG5pIFByb2plY3QvY2FyZSBjb21tdW5pY2F0aW9uL2RvY2tOb2NrL0JhY2tlbmQvcm91dGVzLyIsInNvdXJjZXMiOlsiTnVyc2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQge2FkZG51cnNlLCBudXJzZUxvZ2luLCAgZ2V0bnVyc2hlLCBudXJzZVVwZGF0ZSwgbnVyc2VEZWxldGUsIExpc3QsZ2V0TnVyc2VEYXRhQnlJZH0gZnJvbSAnLi4vY29udHJvbGxlci9OdXJzZSdcbmltcG9ydCB7IHVwbG9hZCB9IGZyb20gJy4uL21pZGRsZXdhcmUvdXBsb2FkRmlsZSc7XG5cbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbnJvdXRlci5wb3N0KCcvYWRkbnVyc2UnLHVwbG9hZC5zaW5nbGUoJ2ltYWdlJyksYWRkbnVyc2UpO1xucm91dGVyLnBvc3QoJy9udXJzZUxvZ2luJyxudXJzZUxvZ2luKTtcbnJvdXRlci5wb3N0KCcvZ2V0bnVyc2hlJyxnZXRudXJzaGUpO1xucm91dGVyLnB1dCgnL251cnNlVXBkYXRlJyxudXJzZVVwZGF0ZSk7XG5yb3V0ZXIuZGVsZXRlKCcvbnVyc2VEZWxldGUvOmlkJyxudXJzZURlbGV0ZSk7XG5yb3V0ZXIuZ2V0KCcvbGlzdCcsTGlzdCk7XG5yb3V0ZXIuZ2V0KCcvZ2V0TnVyc2VEYXRhQnlJZC86aWQnLGdldE51cnNlRGF0YUJ5SWQpO1xuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsTUFBTSxHQUFHQyxnQkFBQSxDQUFRQyxNQUFSLEVBQWY7O0FBRUFGLE1BQU0sQ0FBQ0csSUFBUCxDQUFZLFdBQVosRUFBd0JDLGtCQUFBLENBQU9DLE1BQVAsQ0FBYyxPQUFkLENBQXhCLEVBQStDQyxlQUEvQztBQUNBTixNQUFNLENBQUNHLElBQVAsQ0FBWSxhQUFaLEVBQTBCSSxpQkFBMUI7QUFDQVAsTUFBTSxDQUFDRyxJQUFQLENBQVksWUFBWixFQUF5QkssZ0JBQXpCO0FBQ0FSLE1BQU0sQ0FBQ1MsR0FBUCxDQUFXLGNBQVgsRUFBMEJDLGtCQUExQjtBQUNBVixNQUFNLENBQUNXLE1BQVAsQ0FBYyxrQkFBZCxFQUFpQ0Msa0JBQWpDO0FBQ0FaLE1BQU0sQ0FBQ2EsR0FBUCxDQUFXLE9BQVgsRUFBbUJDLFdBQW5CO0FBQ0FkLE1BQU0sQ0FBQ2EsR0FBUCxDQUFXLHVCQUFYLEVBQW1DRSx1QkFBbkM7ZUFDZWYsTSJ9","map":{"version":3,"names":["router","express","Router","post","upload","single","addnurse","nurseLogin","getnurshe","put","nurseUpdate","delete","nurseDelete","get","List","getNurseDataById"],"sourceRoot":"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/routes/","sources":["Nurse.js"],"sourcesContent":["import express from 'express';\nimport {addnurse, nurseLogin,  getnurshe, nurseUpdate, nurseDelete, List,getNurseDataById} from '../controller/Nurse'\nimport { upload } from '../middleware/uploadFile';\n\nconst router = express.Router();\n\nrouter.post('/addnurse',upload.single('image'),addnurse);\nrouter.post('/nurseLogin',nurseLogin);\nrouter.post('/getnurshe',getnurshe);\nrouter.put('/nurseUpdate',nurseUpdate);\nrouter.delete('/nurseDelete/:id',nurseDelete);\nrouter.get('/list',List);\nrouter.get('/getNurseDataById/:id',getNurseDataById);\nexport default router;"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,MAAM,GAAGC,gBAAA,CAAQC,MAAR,EAAf;;AAEAF,MAAM,CAACG,IAAP,CAAY,WAAZ,EAAwBC,kBAAA,CAAOC,MAAP,CAAc,OAAd,CAAxB,EAA+CC,eAA/C;AACAN,MAAM,CAACG,IAAP,CAAY,aAAZ,EAA0BI,iBAA1B;AACAP,MAAM,CAACG,IAAP,CAAY,YAAZ,EAAyBK,gBAAzB;AACAR,MAAM,CAACS,GAAP,CAAW,cAAX,EAA0BC,kBAA1B;AACAV,MAAM,CAACW,MAAP,CAAc,kBAAd,EAAiCC,kBAAjC;AACAZ,MAAM,CAACa,GAAP,CAAW,OAAX,EAAmBC,WAAnB;AACAd,MAAM,CAACa,GAAP,CAAW,uBAAX,EAAmCE,uBAAnC;eACef,M"}},"mtime":1663418961049},"{\"assumptions\":{},\"sourceRoot\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/controller/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend\",\"filename\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/controller/Nurse.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"allowTopLevelThis\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.nurseUpdate = exports.nurseLogin = exports.nurseDelete = exports.getnurshe = exports.getNurseDataById = exports.addnurse = exports.List = void 0;\n\nvar _User = _interopRequireDefault(require(\"../model/User\"));\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _sendMail = require(\"../middleware/sendMail\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//nurse create\nconst addnurse = async (req, res) => {\n  console.log(req.body);\n  const nurseData = new _User.default({\n    name: req.body.name,\n    email: req.body.email,\n    // password:bcrypt.hashSync(req.body.password, 8),\n    contact: req.body.contact,\n    role: req.body.role,\n    location: req.body.location,\n    nursing_home_id: req.body.nursing_home_id,\n    assissted_living_id: req.body.assissted_living_id,\n    image: req.file.filename\n  });\n  const nurseDetails = await nurseData.save();\n  const _id = nurseDetails._id;\n  const link = `http://localhost:3000/setup-page/${_id}&`;\n\n  if (nurseDetails) {\n    (0, _sendMail.SendEmail)(\"roshnimanmode07@gmail.com\", req.body.email, `Hello ${nurseData.name}`, `Please Complete your SetUp  --\n        click on link : ${link}\n            `);\n    res.send({\n      status: 200,\n      message: \"nurse add successfull\",\n      result: nurseDetails\n    });\n  }\n};\n\nexports.addnurse = addnurse;\n\nconst nurseLogin = async (req, res) => {\n  const {\n    email,\n    password\n  } = req.body;\n  const result = await _User.default.findOne({\n    email\n  });\n\n  if (!result) {\n    res.send({\n      status: false,\n      message: \"Invalid Credentials-Email is Incorrect !!!\"\n    });\n  }\n\n  const isValid = _bcrypt.default.compareSync(password, result.password);\n\n  if (isValid) {\n    let payload = {};\n    payload._id = result._id;\n\n    _jsonwebtoken.default.sign(payload, \"SECRET_KEY\", {\n      expiresIn: \"24h\"\n    }, (err, token) => {\n      res.send({\n        status: true,\n        message: \"Successfully  Nurse Login\",\n        result: token,\n        role: result.role\n      });\n    });\n  } else {\n    res.send({\n      status: false,\n      message: \"Password is incorrect- Please enter correct password\"\n    });\n  }\n}; // //nurse get by role (List)\n\n\nexports.nurseLogin = nurseLogin;\n\nconst getnurshe = async (req, res) => {\n  try {\n    const nursedata = await _User.default.paginate({\n      $and: [{\n        name: {\n          $regex: req.body.name,\n          $options: \"i\"\n        }\n      }, {\n        role: \"4\"\n      }]\n    }, {\n      page: req.body.page,\n      limit: req.body.limit\n    }, (err, result) => {\n      console.log(result);\n      res.send({\n        status: \"200\",\n        message: \"nuirse list geting done\",\n        data: result\n      });\n    });\n  } catch (e) {\n    console.log(e);\n  }\n}; // //delete nurse api\n\n\nexports.getnurshe = getnurshe;\n\nconst nurseDelete = async (req, res) => {\n  try {\n    let _id = req.params.id;\n    console.log(_id);\n    const nurse = await _User.default.deleteOne({\n      _id: _mongoose.default.Types.ObjectId(_id)\n    });\n\n    if (nurse) {\n      res.send({\n        message: \"document deleted bro!\"\n      });\n    }\n  } catch (e) {\n    throw e;\n  }\n}; // //update\n\n\nexports.nurseDelete = nurseDelete;\n\nconst nurseUpdate = async (req, res) => {\n  try {\n    let jsondata = {};\n\n    if (req.body.name) {\n      jsondata.name = req.body.name;\n    }\n\n    if (req.body.email) {\n      jsondata.email = req.body.email;\n    }\n\n    if (req.body.contact) {\n      jsondata.contact = req.body.contact;\n    }\n\n    if (req.body.location) {\n      jsondata.location = req.body.location;\n    }\n\n    if (req.body.password) {\n      jsondata.password = req.body.password;\n    }\n\n    if (req.body.nursing_home_id) {\n      jsondata.nursing_home_id = req.body.nursing_home_id;\n    }\n\n    if (req.body.assissted_living_id) {\n      jsondata.assissted_living_id = req.body.assissted_living_id;\n    }\n\n    _User.default.updateOne({\n      _id: req.body._id\n    }, {\n      $set: jsondata\n    }, {\n      new: true\n    }, (err, updatedlist) => {\n      if (err) {\n        res.send({\n          status: 404,\n          message: \"Failed\",\n          result: err\n        });\n      } else {\n        res.send({\n          status: 200,\n          message: \"Updated Successfully\",\n          result: updatedlist\n        });\n        console.log(updatedlist);\n      }\n    });\n  } catch (e) {\n    throw e;\n  }\n};\n\nexports.nurseUpdate = nurseUpdate;\n\nconst List = async (req, res) => {\n  try {\n    const nursedata = await _User.default.find({\n      role: \"4\"\n    });\n    const nursinghome = await _User.default.find({\n      role: \"1\"\n    });\n    const assist = await _User.default.find({\n      role: \"2\"\n    });\n    const phy = await _User.default.find({\n      role: \"3\"\n    });\n    res.send({\n      status: \"200\",\n      message: \"nuirse list geting done\",\n      nursedata: nursedata,\n      nursinghome: nursinghome,\n      assist: assist,\n      phy: phy\n    });\n  } catch (e) {\n    console.log(e);\n  }\n}; // get data by ID\n\n\nexports.List = List;\n\nconst getNurseDataById = async (req, res) => {\n  console.log(req.body.id);\n\n  try {\n    let dataid = await _User.default.findOne({\n      id: _mongoose.default.Types.ObjectId(req.body.id)\n    });\n    res.send({\n      status: \"200\",\n      message: \"successfully getting data by id\",\n      result: dataid\n    });\n  } catch (e) {\n    throw e;\n  }\n};\n\nexports.getNurseDataById = getNurseDataById;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhZGRudXJzZSIsInJlcSIsInJlcyIsImNvbnNvbGUiLCJsb2ciLCJib2R5IiwibnVyc2VEYXRhIiwiVXNlciIsIm5hbWUiLCJlbWFpbCIsImNvbnRhY3QiLCJyb2xlIiwibG9jYXRpb24iLCJudXJzaW5nX2hvbWVfaWQiLCJhc3Npc3N0ZWRfbGl2aW5nX2lkIiwiaW1hZ2UiLCJmaWxlIiwiZmlsZW5hbWUiLCJudXJzZURldGFpbHMiLCJzYXZlIiwiX2lkIiwibGluayIsIlNlbmRFbWFpbCIsInNlbmQiLCJzdGF0dXMiLCJtZXNzYWdlIiwicmVzdWx0IiwibnVyc2VMb2dpbiIsInBhc3N3b3JkIiwiZmluZE9uZSIsImlzVmFsaWQiLCJiY3J5cHQiLCJjb21wYXJlU3luYyIsInBheWxvYWQiLCJqd3QiLCJzaWduIiwiZXhwaXJlc0luIiwiZXJyIiwidG9rZW4iLCJnZXRudXJzaGUiLCJudXJzZWRhdGEiLCJwYWdpbmF0ZSIsIiRhbmQiLCIkcmVnZXgiLCIkb3B0aW9ucyIsInBhZ2UiLCJsaW1pdCIsImRhdGEiLCJlIiwibnVyc2VEZWxldGUiLCJwYXJhbXMiLCJpZCIsIm51cnNlIiwiZGVsZXRlT25lIiwibW9uZ29vc2UiLCJUeXBlcyIsIk9iamVjdElkIiwibnVyc2VVcGRhdGUiLCJqc29uZGF0YSIsInVwZGF0ZU9uZSIsIiRzZXQiLCJuZXciLCJ1cGRhdGVkbGlzdCIsIkxpc3QiLCJmaW5kIiwibnVyc2luZ2hvbWUiLCJhc3Npc3QiLCJwaHkiLCJnZXROdXJzZURhdGFCeUlkIiwiZGF0YWlkIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9yb3NoYW5pbWFubW9kZS9Sb3NobmkgUHJvamVjdC9jYXJlIGNvbW11bmljYXRpb24vZG9ja05vY2svQmFja2VuZC9jb250cm9sbGVyLyIsInNvdXJjZXMiOlsiTnVyc2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVzZXIgZnJvbSBcIi4uL21vZGVsL1VzZXJcIjtcbmltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcbmltcG9ydCBiY3J5cHQgZnJvbSBcImJjcnlwdFwiO1xuaW1wb3J0IGp3dCBmcm9tIFwianNvbndlYnRva2VuXCI7XG5pbXBvcnQgeyBTZW5kRW1haWwgfSBmcm9tIFwiLi4vbWlkZGxld2FyZS9zZW5kTWFpbFwiO1xuXG4vL251cnNlIGNyZWF0ZVxuZXhwb3J0IGNvbnN0IGFkZG51cnNlID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnNvbGUubG9nKHJlcS5ib2R5KVxuICBjb25zdCBudXJzZURhdGEgPSBuZXcgVXNlcih7XG4gICAgbmFtZTogcmVxLmJvZHkubmFtZSxcbiAgICBlbWFpbDogcmVxLmJvZHkuZW1haWwsXG4gICAgLy8gcGFzc3dvcmQ6YmNyeXB0Lmhhc2hTeW5jKHJlcS5ib2R5LnBhc3N3b3JkLCA4KSxcbiAgICBjb250YWN0OiByZXEuYm9keS5jb250YWN0LFxuICAgIHJvbGU6IHJlcS5ib2R5LnJvbGUsXG4gICAgbG9jYXRpb246IHJlcS5ib2R5LmxvY2F0aW9uLFxuICAgIG51cnNpbmdfaG9tZV9pZDogcmVxLmJvZHkubnVyc2luZ19ob21lX2lkLFxuICAgIGFzc2lzc3RlZF9saXZpbmdfaWQ6IHJlcS5ib2R5LmFzc2lzc3RlZF9saXZpbmdfaWQsXG4gICAgaW1hZ2U6IHJlcS5maWxlLmZpbGVuYW1lLFxuICB9KTtcblxuICBjb25zdCBudXJzZURldGFpbHMgPSBhd2FpdCBudXJzZURhdGEuc2F2ZSgpO1xuICBjb25zdCBfaWQgPSBudXJzZURldGFpbHMuX2lkO1xuICBjb25zdCBsaW5rID0gYGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9zZXR1cC1wYWdlLyR7X2lkfSZgO1xuXG4gIGlmIChudXJzZURldGFpbHMpIHtcbiAgICBTZW5kRW1haWwoXG4gICAgICBcInJvc2huaW1hbm1vZGUwN0BnbWFpbC5jb21cIixcbiAgICAgIHJlcS5ib2R5LmVtYWlsLFxuICAgICAgYEhlbGxvICR7bnVyc2VEYXRhLm5hbWV9YCxcbiAgICAgIGBQbGVhc2UgQ29tcGxldGUgeW91ciBTZXRVcCAgLS1cbiAgICAgICAgY2xpY2sgb24gbGluayA6ICR7bGlua31cbiAgICAgICAgICAgIGBcbiAgICApO1xuXG4gICAgcmVzLnNlbmQoe1xuICAgICAgc3RhdHVzOiAyMDAsXG4gICAgICBtZXNzYWdlOiBcIm51cnNlIGFkZCBzdWNjZXNzZnVsbFwiLFxuICAgICAgcmVzdWx0OiBudXJzZURldGFpbHMsXG4gICAgfSk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBudXJzZUxvZ2luID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHsgZW1haWwsIHBhc3N3b3JkIH0gPSByZXEuYm9keTtcblxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyBlbWFpbCB9KTtcbiAgaWYgKCFyZXN1bHQpIHtcbiAgICByZXMuc2VuZCh7XG4gICAgICBzdGF0dXM6IGZhbHNlLFxuICAgICAgbWVzc2FnZTogXCJJbnZhbGlkIENyZWRlbnRpYWxzLUVtYWlsIGlzIEluY29ycmVjdCAhISFcIixcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IGlzVmFsaWQgPSBiY3J5cHQuY29tcGFyZVN5bmMocGFzc3dvcmQsIHJlc3VsdC5wYXNzd29yZCk7XG5cbiAgaWYgKGlzVmFsaWQpIHtcbiAgICBsZXQgcGF5bG9hZCA9IHt9O1xuICAgIHBheWxvYWQuX2lkID0gcmVzdWx0Ll9pZDtcblxuICAgIGp3dC5zaWduKHBheWxvYWQsIFwiU0VDUkVUX0tFWVwiLCB7IGV4cGlyZXNJbjogXCIyNGhcIiB9LCAoZXJyLCB0b2tlbikgPT4ge1xuICAgICAgcmVzLnNlbmQoe1xuICAgICAgICBzdGF0dXM6IHRydWUsXG4gICAgICAgIG1lc3NhZ2U6IFwiU3VjY2Vzc2Z1bGx5ICBOdXJzZSBMb2dpblwiLFxuICAgICAgICByZXN1bHQ6IHRva2VuLFxuICAgICAgICByb2xlOiByZXN1bHQucm9sZSxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJlcy5zZW5kKHtcbiAgICAgIHN0YXR1czogZmFsc2UsXG4gICAgICBtZXNzYWdlOiBcIlBhc3N3b3JkIGlzIGluY29ycmVjdC0gUGxlYXNlIGVudGVyIGNvcnJlY3QgcGFzc3dvcmRcIixcbiAgICB9KTtcbiAgfVxufTtcblxuLy8gLy9udXJzZSBnZXQgYnkgcm9sZSAoTGlzdClcbmV4cG9ydCBjb25zdCBnZXRudXJzaGUgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBudXJzZWRhdGEgPSBhd2FpdCBVc2VyLnBhZ2luYXRlKFxuICAgICAge1xuICAgICAgICAkYW5kOiBbXG4gICAgICAgICAgeyBuYW1lOiB7ICRyZWdleDogcmVxLmJvZHkubmFtZSwgJG9wdGlvbnM6IFwiaVwiIH0gfSxcbiAgICAgICAgICB7IHJvbGU6IFwiNFwiIH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBwYWdlOiByZXEuYm9keS5wYWdlLFxuICAgICAgICBsaW1pdDogcmVxLmJvZHkubGltaXQsXG4gICAgICB9LFxuICAgICAgKGVyciwgcmVzdWx0KSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgICAgIHJlcy5zZW5kKHtcbiAgICAgICAgICBzdGF0dXM6IFwiMjAwXCIsXG4gICAgICAgICAgbWVzc2FnZTogXCJudWlyc2UgbGlzdCBnZXRpbmcgZG9uZVwiLFxuICAgICAgICAgIGRhdGE6IHJlc3VsdCxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUubG9nKGUpO1xuICB9XG59O1xuXG4vLyAvL2RlbGV0ZSBudXJzZSBhcGlcbmV4cG9ydCBjb25zdCBudXJzZURlbGV0ZSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICB0cnkge1xuICAgIGxldCBfaWQgPSByZXEucGFyYW1zLmlkO1xuICAgIGNvbnNvbGUubG9nKF9pZCk7XG5cbiAgICBjb25zdCBudXJzZSA9IGF3YWl0IFVzZXIuZGVsZXRlT25lKHsgX2lkOiBtb25nb29zZS5UeXBlcy5PYmplY3RJZChfaWQpIH0pO1xuICAgIGlmIChudXJzZSkge1xuICAgICAgcmVzLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcImRvY3VtZW50IGRlbGV0ZWQgYnJvIVwiLFxuICAgICAgfSk7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgdGhyb3cgZTtcbiAgfVxufTtcblxuLy8gLy91cGRhdGVcbmV4cG9ydCBjb25zdCBudXJzZVVwZGF0ZSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICB0cnkge1xuICAgIGxldCBqc29uZGF0YSA9IHt9O1xuXG4gICAgaWYgKHJlcS5ib2R5Lm5hbWUpIHtcbiAgICAgIGpzb25kYXRhLm5hbWUgPSByZXEuYm9keS5uYW1lO1xuICAgIH1cbiAgICBpZiAocmVxLmJvZHkuZW1haWwpIHtcbiAgICAgIGpzb25kYXRhLmVtYWlsID0gcmVxLmJvZHkuZW1haWw7XG4gICAgfVxuICAgIGlmIChyZXEuYm9keS5jb250YWN0KSB7XG4gICAgICBqc29uZGF0YS5jb250YWN0ID0gcmVxLmJvZHkuY29udGFjdDtcbiAgICB9XG4gICAgaWYgKHJlcS5ib2R5LmxvY2F0aW9uKSB7XG4gICAgICBqc29uZGF0YS5sb2NhdGlvbiA9IHJlcS5ib2R5LmxvY2F0aW9uO1xuICAgIH1cbiAgICBpZiAocmVxLmJvZHkucGFzc3dvcmQpIHtcbiAgICAgIGpzb25kYXRhLnBhc3N3b3JkID0gcmVxLmJvZHkucGFzc3dvcmQ7XG4gICAgfVxuICAgIGlmIChyZXEuYm9keS5udXJzaW5nX2hvbWVfaWQpIHtcbiAgICAgIGpzb25kYXRhLm51cnNpbmdfaG9tZV9pZCA9IHJlcS5ib2R5Lm51cnNpbmdfaG9tZV9pZDtcbiAgICB9XG4gICAgaWYgKHJlcS5ib2R5LmFzc2lzc3RlZF9saXZpbmdfaWQpIHtcbiAgICAgIGpzb25kYXRhLmFzc2lzc3RlZF9saXZpbmdfaWQgPSByZXEuYm9keS5hc3Npc3N0ZWRfbGl2aW5nX2lkO1xuICAgIH1cblxuICAgIFVzZXIudXBkYXRlT25lKFxuICAgICAgeyBfaWQ6IHJlcS5ib2R5Ll9pZCB9LFxuICAgICAgeyAkc2V0OiBqc29uZGF0YSB9LFxuICAgICAgeyBuZXc6IHRydWUgfSxcbiAgICAgIChlcnIsIHVwZGF0ZWRsaXN0KSA9PiB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZXMuc2VuZCh7XG4gICAgICAgICAgICBzdGF0dXM6IDQwNCxcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiRmFpbGVkXCIsXG4gICAgICAgICAgICByZXN1bHQ6IGVycixcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXMuc2VuZCh7XG4gICAgICAgICAgICBzdGF0dXM6IDIwMCxcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiVXBkYXRlZCBTdWNjZXNzZnVsbHlcIixcbiAgICAgICAgICAgIHJlc3VsdDogdXBkYXRlZGxpc3QsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc29sZS5sb2codXBkYXRlZGxpc3QpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHRocm93IGU7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBMaXN0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgbnVyc2VkYXRhID0gYXdhaXQgVXNlci5maW5kKHsgcm9sZTogXCI0XCIgfSk7XG4gICAgY29uc3QgbnVyc2luZ2hvbWUgPSBhd2FpdCBVc2VyLmZpbmQoeyByb2xlOiBcIjFcIiB9KTtcbiAgICBjb25zdCBhc3Npc3QgPSBhd2FpdCBVc2VyLmZpbmQoeyByb2xlOiBcIjJcIiB9KTtcbiAgICBjb25zdCBwaHkgPSBhd2FpdCBVc2VyLmZpbmQoeyByb2xlOiBcIjNcIiB9KTtcbiAgICByZXMuc2VuZCh7XG4gICAgICBzdGF0dXM6IFwiMjAwXCIsXG4gICAgICBtZXNzYWdlOiBcIm51aXJzZSBsaXN0IGdldGluZyBkb25lXCIsXG4gICAgICBudXJzZWRhdGE6IG51cnNlZGF0YSxcbiAgICAgIG51cnNpbmdob21lOiBudXJzaW5naG9tZSxcbiAgICAgIGFzc2lzdDogYXNzaXN0LFxuICAgICAgcGh5OiBwaHksXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmxvZyhlKTtcbiAgfVxufTtcblxuXG4vLyBnZXQgZGF0YSBieSBJRFxuZXhwb3J0IGNvbnN0IGdldE51cnNlRGF0YUJ5SWQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc29sZS5sb2cocmVxLmJvZHkuaWQpXG4gIHRyeSB7XG4gICAgbGV0IGRhdGFpZCA9IGF3YWl0IFVzZXIuZmluZE9uZShcbiAgICAgIHtpZDogbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWQocmVxLmJvZHkuaWQpLFxuICAgICAgfSk7XG4gICAgcmVzLnNlbmQoe1xuICAgICAgc3RhdHVzOiBcIjIwMFwiLFxuICAgICAgbWVzc2FnZTogXCJzdWNjZXNzZnVsbHkgZ2V0dGluZyBkYXRhIGJ5IGlkXCIsXG4gICAgICByZXN1bHQ6IGRhdGFpZCxcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHRocm93IGU7XG4gIH1cbn07Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQTtBQUNPLE1BQU1BLFFBQVEsR0FBRyxPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7RUFDMUNDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSCxHQUFHLENBQUNJLElBQWhCO0VBQ0EsTUFBTUMsU0FBUyxHQUFHLElBQUlDLGFBQUosQ0FBUztJQUN6QkMsSUFBSSxFQUFFUCxHQUFHLENBQUNJLElBQUosQ0FBU0csSUFEVTtJQUV6QkMsS0FBSyxFQUFFUixHQUFHLENBQUNJLElBQUosQ0FBU0ksS0FGUztJQUd6QjtJQUNBQyxPQUFPLEVBQUVULEdBQUcsQ0FBQ0ksSUFBSixDQUFTSyxPQUpPO0lBS3pCQyxJQUFJLEVBQUVWLEdBQUcsQ0FBQ0ksSUFBSixDQUFTTSxJQUxV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","map":{"version":3,"names":["addnurse","req","res","console","log","body","nurseData","User","name","email","contact","role","location","nursing_home_id","assissted_living_id","image","file","filename","nurseDetails","save","_id","link","SendEmail","send","status","message","result","nurseLogin","password","findOne","isValid","bcrypt","compareSync","payload","jwt","sign","expiresIn","err","token","getnurshe","nursedata","paginate","$and","$regex","$options","page","limit","data","e","nurseDelete","params","id","nurse","deleteOne","mongoose","Types","ObjectId","nurseUpdate","jsondata","updateOne","$set","new","updatedlist","List","find","nursinghome","assist","phy","getNurseDataById","dataid"],"sourceRoot":"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/controller/","sources":["Nurse.js"],"sourcesContent":["import User from \"../model/User\";\nimport mongoose from \"mongoose\";\nimport bcrypt from \"bcrypt\";\nimport jwt from \"jsonwebtoken\";\nimport { SendEmail } from \"../middleware/sendMail\";\n\n//nurse create\nexport const addnurse = async (req, res) => {\n  console.log(req.body)\n  const nurseData = new User({\n    name: req.body.name,\n    email: req.body.email,\n    // password:bcrypt.hashSync(req.body.password, 8),\n    contact: req.body.contact,\n    role: req.body.role,\n    location: req.body.location,\n    nursing_home_id: req.body.nursing_home_id,\n    assissted_living_id: req.body.assissted_living_id,\n    image: req.file.filename,\n  });\n\n  const nurseDetails = await nurseData.save();\n  const _id = nurseDetails._id;\n  const link = `http://localhost:3000/setup-page/${_id}&`;\n\n  if (nurseDetails) {\n    SendEmail(\n      \"roshnimanmode07@gmail.com\",\n      req.body.email,\n      `Hello ${nurseData.name}`,\n      `Please Complete your SetUp  --\n        click on link : ${link}\n            `\n    );\n\n    res.send({\n      status: 200,\n      message: \"nurse add successfull\",\n      result: nurseDetails,\n    });\n  }\n};\n\nexport const nurseLogin = async (req, res) => {\n  const { email, password } = req.body;\n\n  const result = await User.findOne({ email });\n  if (!result) {\n    res.send({\n      status: false,\n      message: \"Invalid Credentials-Email is Incorrect !!!\",\n    });\n  }\n\n  const isValid = bcrypt.compareSync(password, result.password);\n\n  if (isValid) {\n    let payload = {};\n    payload._id = result._id;\n\n    jwt.sign(payload, \"SECRET_KEY\", { expiresIn: \"24h\" }, (err, token) => {\n      res.send({\n        status: true,\n        message: \"Successfully  Nurse Login\",\n        result: token,\n        role: result.role,\n      });\n    });\n  } else {\n    res.send({\n      status: false,\n      message: \"Password is incorrect- Please enter correct password\",\n    });\n  }\n};\n\n// //nurse get by role (List)\nexport const getnurshe = async (req, res) => {\n  try {\n    const nursedata = await User.paginate(\n      {\n        $and: [\n          { name: { $regex: req.body.name, $options: \"i\" } },\n          { role: \"4\" },\n        ],\n      },\n      {\n        page: req.body.page,\n        limit: req.body.limit,\n      },\n      (err, result) => {\n        console.log(result);\n        res.send({\n          status: \"200\",\n          message: \"nuirse list geting done\",\n          data: result,\n        });\n      }\n    );\n  } catch (e) {\n    console.log(e);\n  }\n};\n\n// //delete nurse api\nexport const nurseDelete = async (req, res) => {\n  try {\n    let _id = req.params.id;\n    console.log(_id);\n\n    const nurse = await User.deleteOne({ _id: mongoose.Types.ObjectId(_id) });\n    if (nurse) {\n      res.send({\n        message: \"document deleted bro!\",\n      });\n    }\n  } catch (e) {\n    throw e;\n  }\n};\n\n// //update\nexport const nurseUpdate = async (req, res) => {\n  try {\n    let jsondata = {};\n\n    if (req.body.name) {\n      jsondata.name = req.body.name;\n    }\n    if (req.body.email) {\n      jsondata.email = req.body.email;\n    }\n    if (req.body.contact) {\n      jsondata.contact = req.body.contact;\n    }\n    if (req.body.location) {\n      jsondata.location = req.body.location;\n    }\n    if (req.body.password) {\n      jsondata.password = req.body.password;\n    }\n    if (req.body.nursing_home_id) {\n      jsondata.nursing_home_id = req.body.nursing_home_id;\n    }\n    if (req.body.assissted_living_id) {\n      jsondata.assissted_living_id = req.body.assissted_living_id;\n    }\n\n    User.updateOne(\n      { _id: req.body._id },\n      { $set: jsondata },\n      { new: true },\n      (err, updatedlist) => {\n        if (err) {\n          res.send({\n            status: 404,\n            message: \"Failed\",\n            result: err,\n          });\n        } else {\n          res.send({\n            status: 200,\n            message: \"Updated Successfully\",\n            result: updatedlist,\n          });\n          console.log(updatedlist);\n        }\n      }\n    );\n  } catch (e) {\n    throw e;\n  }\n};\n\nexport const List = async (req, res) => {\n  try {\n    const nursedata = await User.find({ role: \"4\" });\n    const nursinghome = await User.find({ role: \"1\" });\n    const assist = await User.find({ role: \"2\" });\n    const phy = await User.find({ role: \"3\" });\n    res.send({\n      status: \"200\",\n      message: \"nuirse list geting done\",\n      nursedata: nursedata,\n      nursinghome: nursinghome,\n      assist: assist,\n      phy: phy,\n    });\n  } catch (e) {\n    console.log(e);\n  }\n};\n\n\n// get data by ID\nexport const getNurseDataById = async (req, res) => {\n  console.log(req.body.id)\n  try {\n    let dataid = await User.findOne(\n      {id: mongoose.Types.ObjectId(req.body.id),\n      });\n    res.send({\n      status: \"200\",\n      message: \"successfully getting data by id\",\n      result: dataid,\n    });\n  } catch (e) {\n    throw e;\n  }\n};"],"mappings":"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"}},"mtime":1663419494998},"{\"assumptions\":{},\"sourceRoot\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/middleware/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend\",\"filename\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/middleware/sendMail.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"allowTopLevelThis\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SendEmail = void 0;\n\nvar nodemailer = require(\"nodemailer\");\n\nconst config = require(\"../config\");\n\nconst configvalue = config.get(process.env.Node_env);\nconst email = configvalue[\"EMAIL\"];\nconsole.log(email);\n\nconst SendEmail = (from, to, subject, text) => {\n  var transporter = nodemailer.createTransport({\n    service: \"gmail\",\n    auth: {\n      user: email.username,\n      pass: email.password\n    }\n  });\n  var mailOptions = {\n    from: from,\n    to: to,\n    subject: subject,\n    text: text\n  };\n  transporter.sendMail(mailOptions, function (error, info) {\n    if (error) {\n      console.log(error);\n      return;\n    } else {\n      console.log(\"Email sent: \" + info.response);\n      return false;\n    }\n  });\n};\n\nexports.SendEmail = SendEmail;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJub2RlbWFpbGVyIiwicmVxdWlyZSIsImNvbmZpZyIsImNvbmZpZ3ZhbHVlIiwiZ2V0IiwicHJvY2VzcyIsImVudiIsIk5vZGVfZW52IiwiZW1haWwiLCJjb25zb2xlIiwibG9nIiwiU2VuZEVtYWlsIiwiZnJvbSIsInRvIiwic3ViamVjdCIsInRleHQiLCJ0cmFuc3BvcnRlciIsImNyZWF0ZVRyYW5zcG9ydCIsInNlcnZpY2UiLCJhdXRoIiwidXNlciIsInVzZXJuYW1lIiwicGFzcyIsInBhc3N3b3JkIiwibWFpbE9wdGlvbnMiLCJzZW5kTWFpbCIsImVycm9yIiwiaW5mbyIsInJlc3BvbnNlIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9yb3NoYW5pbWFubW9kZS9Sb3NobmkgUHJvamVjdC9jYXJlIGNvbW11bmljYXRpb24vZG9ja05vY2svQmFja2VuZC9taWRkbGV3YXJlLyIsInNvdXJjZXMiOlsic2VuZE1haWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIG5vZGVtYWlsZXIgPSByZXF1aXJlKFwibm9kZW1haWxlclwiKTtcbmNvbnN0IGNvbmZpZyA9IHJlcXVpcmUoXCIuLi9jb25maWdcIik7XG5jb25zdCBjb25maWd2YWx1ZSA9IGNvbmZpZy5nZXQocHJvY2Vzcy5lbnYuTm9kZV9lbnYpO1xuY29uc3QgZW1haWwgPSBjb25maWd2YWx1ZVtcIkVNQUlMXCJdXG4gY29uc29sZS5sb2coZW1haWwpO1xuXG5leHBvcnQgY29uc3QgU2VuZEVtYWlsID0gKGZyb20sIHRvLCBzdWJqZWN0LCB0ZXh0KSA9PiB7XG4gIHZhciB0cmFuc3BvcnRlciA9IG5vZGVtYWlsZXIuY3JlYXRlVHJhbnNwb3J0KHtcbiAgICBzZXJ2aWNlOiBcImdtYWlsXCIsXG4gICAgYXV0aDoge1xuICAgICAgdXNlcjogZW1haWwudXNlcm5hbWUsXG4gICAgICBwYXNzOiBlbWFpbC5wYXNzd29yZCxcbiAgICB9LFxuICB9KTtcblxuICB2YXIgbWFpbE9wdGlvbnMgPSB7XG4gICAgZnJvbTogZnJvbSxcbiAgICB0bzogdG8sXG4gICAgc3ViamVjdDogc3ViamVjdCxcbiAgICB0ZXh0OiB0ZXh0LFxuICB9O1xuXG4gIHRyYW5zcG9ydGVyLnNlbmRNYWlsKG1haWxPcHRpb25zLCBmdW5jdGlvbiAoZXJyb3IsIGluZm8pIHtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgcmV0dXJuIFxuICAgICAgXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiRW1haWwgc2VudDogXCIgKyBpbmZvLnJlc3BvbnNlKTtcblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSk7XG59OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLElBQUlBLFVBQVUsR0FBR0MsT0FBTyxDQUFDLFlBQUQsQ0FBeEI7O0FBQ0EsTUFBTUMsTUFBTSxHQUFHRCxPQUFPLENBQUMsV0FBRCxDQUF0Qjs7QUFDQSxNQUFNRSxXQUFXLEdBQUdELE1BQU0sQ0FBQ0UsR0FBUCxDQUFXQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsUUFBdkIsQ0FBcEI7QUFDQSxNQUFNQyxLQUFLLEdBQUdMLFdBQVcsQ0FBQyxPQUFELENBQXpCO0FBQ0NNLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRixLQUFaOztBQUVNLE1BQU1HLFNBQVMsR0FBRyxDQUFDQyxJQUFELEVBQU9DLEVBQVAsRUFBV0MsT0FBWCxFQUFvQkMsSUFBcEIsS0FBNkI7RUFDcEQsSUFBSUMsV0FBVyxHQUFHaEIsVUFBVSxDQUFDaUIsZUFBWCxDQUEyQjtJQUMzQ0MsT0FBTyxFQUFFLE9BRGtDO0lBRTNDQyxJQUFJLEVBQUU7TUFDSkMsSUFBSSxFQUFFWixLQUFLLENBQUNhLFFBRFI7TUFFSkMsSUFBSSxFQUFFZCxLQUFLLENBQUNlO0lBRlI7RUFGcUMsQ0FBM0IsQ0FBbEI7RUFRQSxJQUFJQyxXQUFXLEdBQUc7SUFDaEJaLElBQUksRUFBRUEsSUFEVTtJQUVoQkMsRUFBRSxFQUFFQSxFQUZZO0lBR2hCQyxPQUFPLEVBQUVBLE9BSE87SUFJaEJDLElBQUksRUFBRUE7RUFKVSxDQUFsQjtFQU9BQyxXQUFXLENBQUNTLFFBQVosQ0FBcUJELFdBQXJCLEVBQWtDLFVBQVVFLEtBQVYsRUFBaUJDLElBQWpCLEVBQXVCO0lBQ3ZELElBQUlELEtBQUosRUFBVztNQUNQakIsT0FBTyxDQUFDQyxHQUFSLENBQVlnQixLQUFaO01BQ0Y7SUFFRCxDQUpELE1BSU87TUFDTGpCLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGlCQUFpQmlCLElBQUksQ0FBQ0MsUUFBbEM7TUFFQSxPQUFPLEtBQVA7SUFDRDtFQUNGLENBVkQ7QUFXRCxDQTNCTSJ9","map":{"version":3,"names":["nodemailer","require","config","configvalue","get","process","env","Node_env","email","console","log","SendEmail","from","to","subject","text","transporter","createTransport","service","auth","user","username","pass","password","mailOptions","sendMail","error","info","response"],"sourceRoot":"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/middleware/","sources":["sendMail.js"],"sourcesContent":["var nodemailer = require(\"nodemailer\");\nconst config = require(\"../config\");\nconst configvalue = config.get(process.env.Node_env);\nconst email = configvalue[\"EMAIL\"]\n console.log(email);\n\nexport const SendEmail = (from, to, subject, text) => {\n  var transporter = nodemailer.createTransport({\n    service: \"gmail\",\n    auth: {\n      user: email.username,\n      pass: email.password,\n    },\n  });\n\n  var mailOptions = {\n    from: from,\n    to: to,\n    subject: subject,\n    text: text,\n  };\n\n  transporter.sendMail(mailOptions, function (error, info) {\n    if (error) {\n        console.log(error);\n      return \n      \n    } else {\n      console.log(\"Email sent: \" + info.response);\n\n      return false;\n    }\n  });\n};"],"mappings":";;;;;;;AAAA,IAAIA,UAAU,GAAGC,OAAO,CAAC,YAAD,CAAxB;;AACA,MAAMC,MAAM,GAAGD,OAAO,CAAC,WAAD,CAAtB;;AACA,MAAME,WAAW,GAAGD,MAAM,CAACE,GAAP,CAAWC,OAAO,CAACC,GAAR,CAAYC,QAAvB,CAApB;AACA,MAAMC,KAAK,GAAGL,WAAW,CAAC,OAAD,CAAzB;AACCM,OAAO,CAACC,GAAR,CAAYF,KAAZ;;AAEM,MAAMG,SAAS,GAAG,CAACC,IAAD,EAAOC,EAAP,EAAWC,OAAX,EAAoBC,IAApB,KAA6B;EACpD,IAAIC,WAAW,GAAGhB,UAAU,CAACiB,eAAX,CAA2B;IAC3CC,OAAO,EAAE,OADkC;IAE3CC,IAAI,EAAE;MACJC,IAAI,EAAEZ,KAAK,CAACa,QADR;MAEJC,IAAI,EAAEd,KAAK,CAACe;IAFR;EAFqC,CAA3B,CAAlB;EAQA,IAAIC,WAAW,GAAG;IAChBZ,IAAI,EAAEA,IADU;IAEhBC,EAAE,EAAEA,EAFY;IAGhBC,OAAO,EAAEA,OAHO;IAIhBC,IAAI,EAAEA;EAJU,CAAlB;EAOAC,WAAW,CAACS,QAAZ,CAAqBD,WAArB,EAAkC,UAAUE,KAAV,EAAiBC,IAAjB,EAAuB;IACvD,IAAID,KAAJ,EAAW;MACPjB,OAAO,CAACC,GAAR,CAAYgB,KAAZ;MACF;IAED,CAJD,MAIO;MACLjB,OAAO,CAACC,GAAR,CAAY,iBAAiBiB,IAAI,CAACC,QAAlC;MAEA,OAAO,KAAP;IACD;EACF,CAVD;AAWD,CA3BM"}},"mtime":1663244277797},"{\"assumptions\":{},\"sourceRoot\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend\",\"filename\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/routes/Assist.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"allowTopLevelThis\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _Assist = require(\"../controller/Assist\");\n\nvar _Nurse = require(\"../controller/Nurse\");\n\nvar _uploadFile = require(\"../middleware/uploadFile\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nrouter.post(\"/addAssist\", _uploadFile.upload.single('image'), _Assist.addAssist);\nrouter.post(\"/Assistlist\", _Assist.Assistlist);\nrouter.get(\"/getAssistById/:id\", _Assist.getAssistById);\nrouter.put(\"/updateAssist\", _Assist.updateAssist);\nrouter.delete(\"/deleteAssist/:_id\", _Assist.deleteAssist);\nrouter.get('/list', _Nurse.List); // router.get(\"/allAssist\",allAssist);\n\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwicG9zdCIsInVwbG9hZCIsInNpbmdsZSIsImFkZEFzc2lzdCIsIkFzc2lzdGxpc3QiLCJnZXQiLCJnZXRBc3Npc3RCeUlkIiwicHV0IiwidXBkYXRlQXNzaXN0IiwiZGVsZXRlIiwiZGVsZXRlQXNzaXN0IiwiTGlzdCJdLCJzb3VyY2VSb290IjoiL2hvbWUvcm9zaGFuaW1hbm1vZGUvUm9zaG5pIFByb2plY3QvY2FyZSBjb21tdW5pY2F0aW9uL2RvY2tOb2NrL0JhY2tlbmQvcm91dGVzLyIsInNvdXJjZXMiOlsiQXNzaXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IHsgYWRkQXNzaXN0LEFzc2lzdGxpc3QsZ2V0QXNzaXN0QnlJZCx1cGRhdGVBc3Npc3QsZGVsZXRlQXNzaXN0LGFsbEFzc2lzdCB9IGZyb20gJy4uL2NvbnRyb2xsZXIvQXNzaXN0JztcbmltcG9ydCB7IExpc3QgfSBmcm9tIFwiLi4vY29udHJvbGxlci9OdXJzZVwiO1xuaW1wb3J0IHsgdXBsb2FkIH0gZnJvbSAnLi4vbWlkZGxld2FyZS91cGxvYWRGaWxlJztcblxuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xucm91dGVyLnBvc3QoXCIvYWRkQXNzaXN0XCIsdXBsb2FkLnNpbmdsZSgnaW1hZ2UnKSwgYWRkQXNzaXN0KTtcbnJvdXRlci5wb3N0KFwiL0Fzc2lzdGxpc3RcIixBc3Npc3RsaXN0KTtcbnJvdXRlci5nZXQoXCIvZ2V0QXNzaXN0QnlJZC86aWRcIiwgZ2V0QXNzaXN0QnlJZCk7XG5yb3V0ZXIucHV0KFwiL3VwZGF0ZUFzc2lzdFwiLCB1cGRhdGVBc3Npc3QpO1xucm91dGVyLmRlbGV0ZShcIi9kZWxldGVBc3Npc3QvOl9pZFwiLCBkZWxldGVBc3Npc3QpO1xucm91dGVyLmdldCgnL2xpc3QnLExpc3QpO1xuXG4vLyByb3V0ZXIuZ2V0KFwiL2FsbEFzc2lzdFwiLGFsbEFzc2lzdCk7XG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUdBLE1BQU1BLE1BQU0sR0FBR0MsZ0JBQUEsQ0FBUUMsTUFBUixFQUFmOztBQUNBRixNQUFNLENBQUNHLElBQVAsQ0FBWSxZQUFaLEVBQXlCQyxrQkFBQSxDQUFPQyxNQUFQLENBQWMsT0FBZCxDQUF6QixFQUFpREMsaUJBQWpEO0FBQ0FOLE1BQU0sQ0FBQ0csSUFBUCxDQUFZLGFBQVosRUFBMEJJLGtCQUExQjtBQUNBUCxNQUFNLENBQUNRLEdBQVAsQ0FBVyxvQkFBWCxFQUFpQ0MscUJBQWpDO0FBQ0FULE1BQU0sQ0FBQ1UsR0FBUCxDQUFXLGVBQVgsRUFBNEJDLG9CQUE1QjtBQUNBWCxNQUFNLENBQUNZLE1BQVAsQ0FBYyxvQkFBZCxFQUFvQ0Msb0JBQXBDO0FBQ0FiLE1BQU0sQ0FBQ1EsR0FBUCxDQUFXLE9BQVgsRUFBbUJNLFdBQW5CLEUsQ0FFQTs7ZUFFZWQsTSJ9","map":{"version":3,"names":["router","express","Router","post","upload","single","addAssist","Assistlist","get","getAssistById","put","updateAssist","delete","deleteAssist","List"],"sourceRoot":"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/routes/","sources":["Assist.js"],"sourcesContent":["import express from 'express';\nimport { addAssist,Assistlist,getAssistById,updateAssist,deleteAssist,allAssist } from '../controller/Assist';\nimport { List } from \"../controller/Nurse\";\nimport { upload } from '../middleware/uploadFile';\n\n\nconst router = express.Router();\nrouter.post(\"/addAssist\",upload.single('image'), addAssist);\nrouter.post(\"/Assistlist\",Assistlist);\nrouter.get(\"/getAssistById/:id\", getAssistById);\nrouter.put(\"/updateAssist\", updateAssist);\nrouter.delete(\"/deleteAssist/:_id\", deleteAssist);\nrouter.get('/list',List);\n\n// router.get(\"/allAssist\",allAssist);\n\nexport default router;"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAGA,MAAMA,MAAM,GAAGC,gBAAA,CAAQC,MAAR,EAAf;;AACAF,MAAM,CAACG,IAAP,CAAY,YAAZ,EAAyBC,kBAAA,CAAOC,MAAP,CAAc,OAAd,CAAzB,EAAiDC,iBAAjD;AACAN,MAAM,CAACG,IAAP,CAAY,aAAZ,EAA0BI,kBAA1B;AACAP,MAAM,CAACQ,GAAP,CAAW,oBAAX,EAAiCC,qBAAjC;AACAT,MAAM,CAACU,GAAP,CAAW,eAAX,EAA4BC,oBAA5B;AACAX,MAAM,CAACY,MAAP,CAAc,oBAAd,EAAoCC,oBAApC;AACAb,MAAM,CAACQ,GAAP,CAAW,OAAX,EAAmBM,WAAnB,E,CAEA;;eAEed,M"}},"mtime":1663417114333},"{\"assumptions\":{},\"sourceRoot\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/controller/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend\",\"filename\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/controller/Assist.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"allowTopLevelThis\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updateAssist = exports.getAssistById = exports.deleteAssist = exports.addAssist = exports.Assistlist = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _User = _interopRequireDefault(require(\"../model/User\"));\n\nvar _sendMail = require(\"../middleware/sendMail\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//  Add\nconst addAssist = async (req, res) => {\n  const assistData = new _User.default({\n    name: req.body.name,\n    email: req.body.email,\n    // password: bcrypt.hashSync(req.body.password, 8),\n    description: req.body.description,\n    location: req.body.location,\n    role: req.body.role,\n    image: req.file.filename\n  });\n  console.log(req.body.role);\n  const assissted_living = await assistData.save();\n  const _id = assissted_living._id;\n  const link = `http://localhost:3000/setup-page/${_id}&`;\n\n  if (assissted_living) {\n    (0, _sendMail.SendEmail)(\"roshnimanmode07@gmail.com\", req.body.email, `Hello ${assistData.name}`, `Please Complete your SetUp  --\n        click on link : ${link}\n            `);\n    res.send({\n      status: 200,\n      message: \"nurse add successfull\",\n      result: assissted_living\n    });\n  }\n\n  res.send({\n    status: 200,\n    message: \"assisted add successfully\",\n    result: assissted_living\n  });\n}; // List (pagination)\n\n\nexports.addAssist = addAssist;\n\nconst Assistlist = async (req, res) => {\n  try {\n    let Assistdata = await _User.default.paginate({\n      $and: [{\n        name: {\n          $regex: req.body.name,\n          $options: \"i\"\n        }\n      }, {\n        role: \"2\"\n      }]\n    }, {\n      page: req.body.page,\n      limit: req.body.limit\n    }, (err, result) => {\n      console.log(result);\n      res.send({\n        status: 200,\n        message: \"Assist Living List\",\n        result: result\n      });\n    });\n  } catch (e) {\n    throw e;\n  }\n}; //  Get by Id\n\n\nexports.Assistlist = Assistlist;\n\nconst getAssistById = async (req, res) => {\n  const result = await _User.default.find({\n    role: \"2\"\n  });\n\n  if (result) {\n    res.send({\n      status: true,\n      message: \"Find Successfully\",\n      result: result\n    });\n  }\n}; // Update\n\n\nexports.getAssistById = getAssistById;\n\nconst updateAssist = async (req, res) => {\n  try {\n    let jsondata = {};\n\n    if (req.body.name) {\n      jsondata.name = req.body.name;\n    }\n\n    if (req.body.email) {\n      jsondata.email = req.body.email;\n    }\n\n    if (req.body.location) {\n      jsondata.location = req.body.location;\n    }\n\n    if (req.body.contact) {\n      jsondata.contact = req.body.contact;\n    }\n\n    const result = await _User.default.updateOne({\n      _id: _mongoose.default.Types.ObjectId(req.body._id)\n    }, {\n      $set: jsondata\n    }, {\n      new: true\n    });\n\n    if (!result) {\n      res.send({\n        status: 400,\n        message: \"Updation is Failed\"\n      });\n    } else {\n      res.send({\n        status: 200,\n        message: \"Updated Successfully\",\n        result: result\n      });\n    }\n  } catch (e) {\n    console.log(e);\n  }\n}; // Delete\n\n\nexports.updateAssist = updateAssist;\n\nconst deleteAssist = async (req, res) => {\n  try {\n    let _id = req.params._id;\n    console.log(_id);\n    const user = await _User.default.deleteOne({\n      _id: _mongoose.default.Types.ObjectId(_id)\n    });\n\n    if (user) {\n      res.send({\n        status: true,\n        message: \"success\",\n        result: user\n      });\n    }\n  } catch (e) {\n    throw e;\n  }\n}; // Search\n// export const allAssist = async (req, res) => {\n//   console.log(req.query.name);\n//   const users = await User.find({ name: { $regex: req.query.name, $options: \"i\"} });\n//   if (users)\n//     res.send({\n//       status: 200,\n//       message: \"Assist search\",\n//       result: users,\n//     });\n// };\n\n\nexports.deleteAssist = deleteAssist;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhZGRBc3Npc3QiLCJyZXEiLCJyZXMiLCJhc3Npc3REYXRhIiwiVXNlciIsIm5hbWUiLCJib2R5IiwiZW1haWwiLCJkZXNjcmlwdGlvbiIsImxvY2F0aW9uIiwicm9sZSIsImltYWdlIiwiZmlsZSIsImZpbGVuYW1lIiwiY29uc29sZSIsImxvZyIsImFzc2lzc3RlZF9saXZpbmciLCJzYXZlIiwiX2lkIiwibGluayIsIlNlbmRFbWFpbCIsInNlbmQiLCJzdGF0dXMiLCJtZXNzYWdlIiwicmVzdWx0IiwiQXNzaXN0bGlzdCIsIkFzc2lzdGRhdGEiLCJwYWdpbmF0ZSIsIiRhbmQiLCIkcmVnZXgiLCIkb3B0aW9ucyIsInBhZ2UiLCJsaW1pdCIsImVyciIsImUiLCJnZXRBc3Npc3RCeUlkIiwiZmluZCIsInVwZGF0ZUFzc2lzdCIsImpzb25kYXRhIiwiY29udGFjdCIsInVwZGF0ZU9uZSIsIm1vbmdvb3NlIiwiVHlwZXMiLCJPYmplY3RJZCIsIiRzZXQiLCJuZXciLCJkZWxldGVBc3Npc3QiLCJwYXJhbXMiLCJ1c2VyIiwiZGVsZXRlT25lIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9yb3NoYW5pbWFubW9kZS9Sb3NobmkgUHJvamVjdC9jYXJlIGNvbW11bmljYXRpb24vZG9ja05vY2svQmFja2VuZC9jb250cm9sbGVyLyIsInNvdXJjZXMiOlsiQXNzaXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcbmltcG9ydCBiY3J5cHQgZnJvbSBcImJjcnlwdFwiO1xuaW1wb3J0IGp3dCBmcm9tIFwianNvbndlYnRva2VuXCI7XG5pbXBvcnQgVXNlciBmcm9tIFwiLi4vbW9kZWwvVXNlclwiO1xuaW1wb3J0IHsgU2VuZEVtYWlsIH0gZnJvbSBcIi4uL21pZGRsZXdhcmUvc2VuZE1haWxcIjtcblxuLy8gIEFkZFxuZXhwb3J0IGNvbnN0IGFkZEFzc2lzdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCBhc3Npc3REYXRhID0gbmV3IFVzZXIoe1xuICAgIG5hbWU6IHJlcS5ib2R5Lm5hbWUsXG4gICAgZW1haWw6IHJlcS5ib2R5LmVtYWlsLFxuICAgIC8vIHBhc3N3b3JkOiBiY3J5cHQuaGFzaFN5bmMocmVxLmJvZHkucGFzc3dvcmQsIDgpLFxuICAgIGRlc2NyaXB0aW9uOiByZXEuYm9keS5kZXNjcmlwdGlvbixcbiAgICBsb2NhdGlvbjogcmVxLmJvZHkubG9jYXRpb24sXG4gICAgcm9sZTogcmVxLmJvZHkucm9sZSxcbiAgICBpbWFnZTpyZXEuZmlsZS5maWxlbmFtZVxuICB9KTtcblxuXG5jb25zb2xlLmxvZyhyZXEuYm9keS5yb2xlKVxuXG4gIGNvbnN0IGFzc2lzc3RlZF9saXZpbmcgPSBhd2FpdCBhc3Npc3REYXRhLnNhdmUoKTtcbiAgY29uc3QgX2lkID0gYXNzaXNzdGVkX2xpdmluZy5faWQ7XG4gIGNvbnN0IGxpbmsgPSBgaHR0cDovL2xvY2FsaG9zdDozMDAwL3NldHVwLXBhZ2UvJHtfaWR9JmA7XG5cbiAgaWYgKGFzc2lzc3RlZF9saXZpbmcpIHtcbiAgICBTZW5kRW1haWwoXG4gICAgICBcInJvc2huaW1hbm1vZGUwN0BnbWFpbC5jb21cIixcbiAgICAgIHJlcS5ib2R5LmVtYWlsLFxuICAgICAgYEhlbGxvICR7YXNzaXN0RGF0YS5uYW1lfWAsXG4gICAgICBgUGxlYXNlIENvbXBsZXRlIHlvdXIgU2V0VXAgIC0tXG4gICAgICAgIGNsaWNrIG9uIGxpbmsgOiAke2xpbmt9XG4gICAgICAgICAgICBgXG4gICAgKTtcblxuICAgIHJlcy5zZW5kKHtcbiAgICAgIHN0YXR1czogMjAwLFxuICAgICAgbWVzc2FnZTogXCJudXJzZSBhZGQgc3VjY2Vzc2Z1bGxcIixcbiAgICAgIHJlc3VsdDogYXNzaXNzdGVkX2xpdmluZyxcbiAgICB9KTtcbiAgfVxuXG5cbiAgcmVzLnNlbmQoe1xuICAgIHN0YXR1czogMjAwLFxuICAgIG1lc3NhZ2U6IFwiYXNzaXN0ZWQgYWRkIHN1Y2Nlc3NmdWxseVwiLFxuICAgIHJlc3VsdDogYXNzaXNzdGVkX2xpdmluZyxcbiAgfSk7XG59O1xuXG4vLyBMaXN0IChwYWdpbmF0aW9uKVxuZXhwb3J0IGNvbnN0IEFzc2lzdGxpc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgdHJ5IHtcbiAgICBcbiAgICBsZXQgQXNzaXN0ZGF0YSA9IGF3YWl0IFVzZXIucGFnaW5hdGUoXG4gICAgICB7ICAkYW5kOlt7ICBuYW1lOiB7ICRyZWdleDogcmVxLmJvZHkubmFtZSwgJG9wdGlvbnM6IFwiaVwifX0sIHtyb2xlIDogXCIyXCJ9XSB9LFxuICAgICAge1xuICAgICAgICBwYWdlOiByZXEuYm9keS5wYWdlLFxuICAgICAgICBsaW1pdDogcmVxLmJvZHkubGltaXQsXG4gICAgICB9LFxuICAgICAgKGVyciwgcmVzdWx0KSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgICAgIHJlcy5zZW5kKHtcbiAgICAgICAgICBzdGF0dXM6IDIwMCxcbiAgICAgICAgICBtZXNzYWdlOiBcIkFzc2lzdCBMaXZpbmcgTGlzdFwiLFxuICAgICAgICAgIHJlc3VsdDogcmVzdWx0LFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICApO1xuICB9IGNhdGNoIChlKSB7XG4gICAgdGhyb3cgZTtcbiAgfVxufTtcblxuLy8gIEdldCBieSBJZFxuZXhwb3J0IGNvbnN0IGdldEFzc2lzdEJ5SWQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgVXNlci5maW5kKHsgcm9sZTogXCIyXCIgfSk7XG5cbiAgaWYgKHJlc3VsdCkge1xuICAgIHJlcy5zZW5kKHtcbiAgICAgIHN0YXR1czogdHJ1ZSxcbiAgICAgIG1lc3NhZ2U6IFwiRmluZCBTdWNjZXNzZnVsbHlcIixcbiAgICAgIHJlc3VsdDogcmVzdWx0LFxuICAgIH0pO1xuICB9XG59O1xuXG4vLyBVcGRhdGVcbmV4cG9ydCBjb25zdCB1cGRhdGVBc3Npc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgdHJ5IHtcbiAgICBsZXQganNvbmRhdGEgPSB7fTtcblxuICAgIGlmIChyZXEuYm9keS5uYW1lKSB7XG4gICAgICBqc29uZGF0YS5uYW1lID0gcmVxLmJvZHkubmFtZTtcbiAgICB9XG4gICAgaWYgKHJlcS5ib2R5LmVtYWlsKSB7XG4gICAgICBqc29uZGF0YS5lbWFpbCA9IHJlcS5ib2R5LmVtYWlsO1xuICAgIH1cbiAgICBpZiAocmVxLmJvZHkubG9jYXRpb24pIHtcbiAgICAgIGpzb25kYXRhLmxvY2F0aW9uID0gcmVxLmJvZHkubG9jYXRpb247XG4gICAgfVxuICAgIGlmIChyZXEuYm9keS5jb250YWN0KSB7XG4gICAgICBqc29uZGF0YS5jb250YWN0ID0gcmVxLmJvZHkuY29udGFjdDtcbiAgICB9XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBVc2VyLnVwZGF0ZU9uZShcbiAgICAgIHsgX2lkOiBtb25nb29zZS5UeXBlcy5PYmplY3RJZChyZXEuYm9keS5faWQpIH0sXG4gICAgICB7ICRzZXQ6IGpzb25kYXRhIH0sXG4gICAgICB7IG5ldzogdHJ1ZSB9XG4gICAgKTtcblxuICAgIGlmICghcmVzdWx0KSB7XG4gICAgICByZXMuc2VuZCh7XG4gICAgICAgIHN0YXR1czogNDAwLFxuICAgICAgICBtZXNzYWdlOiBcIlVwZGF0aW9uIGlzIEZhaWxlZFwiLFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcy5zZW5kKHtcbiAgICAgICAgc3RhdHVzOiAyMDAsXG4gICAgICAgIG1lc3NhZ2U6IFwiVXBkYXRlZCBTdWNjZXNzZnVsbHlcIixcbiAgICAgICAgcmVzdWx0OiByZXN1bHQsXG4gICAgICB9KTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmxvZyhlKTtcbiAgfVxufTtcblxuLy8gRGVsZXRlXG5leHBvcnQgY29uc3QgZGVsZXRlQXNzaXN0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgbGV0IF9pZCA9IHJlcS5wYXJhbXMuX2lkO1xuICAgIGNvbnNvbGUubG9nKF9pZCk7XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZGVsZXRlT25lKHsgX2lkOiBtb25nb29zZS5UeXBlcy5PYmplY3RJZChfaWQpIH0pO1xuICAgIGlmICh1c2VyKSB7XG4gICAgICByZXMuc2VuZCh7XG4gICAgICAgIHN0YXR1czogdHJ1ZSxcbiAgICAgICAgbWVzc2FnZTogXCJzdWNjZXNzXCIsXG4gICAgICAgIHJlc3VsdDogdXNlcixcbiAgICAgIH0pO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIHRocm93IGU7XG4gIH1cbn07XG5cbi8vIFNlYXJjaFxuLy8gZXhwb3J0IGNvbnN0IGFsbEFzc2lzdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuLy8gICBjb25zb2xlLmxvZyhyZXEucXVlcnkubmFtZSk7XG5cblxuLy8gICBjb25zdCB1c2VycyA9IGF3YWl0IFVzZXIuZmluZCh7IG5hbWU6IHsgJHJlZ2V4OiByZXEucXVlcnkubmFtZSwgJG9wdGlvbnM6IFwiaVwifSB9KTtcbi8vICAgaWYgKHVzZXJzKVxuLy8gICAgIHJlcy5zZW5kKHtcbi8vICAgICAgIHN0YXR1czogMjAwLFxuLy8gICAgICAgbWVzc2FnZTogXCJBc3Npc3Qgc2VhcmNoXCIsXG4vLyAgICAgICByZXN1bHQ6IHVzZXJzLFxuLy8gICAgIH0pO1xuLy8gfTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUE7QUFDTyxNQUFNQSxTQUFTLEdBQUcsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0VBQzNDLE1BQU1DLFVBQVUsR0FBRyxJQUFJQyxhQUFKLENBQVM7SUFDMUJDLElBQUksRUFBRUosR0FBRyxDQUFDSyxJQUFKLENBQVNELElBRFc7SUFFMUJFLEtBQUssRUFBRU4sR0FBRyxDQUFDSyxJQUFKLENBQVNDLEtBRlU7SUFHMUI7SUFDQUMsV0FBVyxFQUFFUCxHQUFHLENBQUNLLElBQUosQ0FBU0UsV0FK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","map":{"version":3,"names":["addAssist","req","res","assistData","User","name","body","email","description","location","role","image","file","filename","console","log","assissted_living","save","_id","link","SendEmail","send","status","message","result","Assistlist","Assistdata","paginate","$and","$regex","$options","page","limit","err","e","getAssistById","find","updateAssist","jsondata","contact","updateOne","mongoose","Types","ObjectId","$set","new","deleteAssist","params","user","deleteOne"],"sourceRoot":"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/controller/","sources":["Assist.js"],"sourcesContent":["import mongoose from \"mongoose\";\nimport bcrypt from \"bcrypt\";\nimport jwt from \"jsonwebtoken\";\nimport User from \"../model/User\";\nimport { SendEmail } from \"../middleware/sendMail\";\n\n//  Add\nexport const addAssist = async (req, res) => {\n  const assistData = new User({\n    name: req.body.name,\n    email: req.body.email,\n    // password: bcrypt.hashSync(req.body.password, 8),\n    description: req.body.description,\n    location: req.body.location,\n    role: req.body.role,\n    image:req.file.filename\n  });\n\n\nconsole.log(req.body.role)\n\n  const assissted_living = await assistData.save();\n  const _id = assissted_living._id;\n  const link = `http://localhost:3000/setup-page/${_id}&`;\n\n  if (assissted_living) {\n    SendEmail(\n      \"roshnimanmode07@gmail.com\",\n      req.body.email,\n      `Hello ${assistData.name}`,\n      `Please Complete your SetUp  --\n        click on link : ${link}\n            `\n    );\n\n    res.send({\n      status: 200,\n      message: \"nurse add successfull\",\n      result: assissted_living,\n    });\n  }\n\n\n  res.send({\n    status: 200,\n    message: \"assisted add successfully\",\n    result: assissted_living,\n  });\n};\n\n// List (pagination)\nexport const Assistlist = async (req, res) => {\n  try {\n    \n    let Assistdata = await User.paginate(\n      {  $and:[{  name: { $regex: req.body.name, $options: \"i\"}}, {role : \"2\"}] },\n      {\n        page: req.body.page,\n        limit: req.body.limit,\n      },\n      (err, result) => {\n        console.log(result);\n        res.send({\n          status: 200,\n          message: \"Assist Living List\",\n          result: result,\n        });\n      }\n    );\n  } catch (e) {\n    throw e;\n  }\n};\n\n//  Get by Id\nexport const getAssistById = async (req, res) => {\n  const result = await User.find({ role: \"2\" });\n\n  if (result) {\n    res.send({\n      status: true,\n      message: \"Find Successfully\",\n      result: result,\n    });\n  }\n};\n\n// Update\nexport const updateAssist = async (req, res) => {\n  try {\n    let jsondata = {};\n\n    if (req.body.name) {\n      jsondata.name = req.body.name;\n    }\n    if (req.body.email) {\n      jsondata.email = req.body.email;\n    }\n    if (req.body.location) {\n      jsondata.location = req.body.location;\n    }\n    if (req.body.contact) {\n      jsondata.contact = req.body.contact;\n    }\n\n    const result = await User.updateOne(\n      { _id: mongoose.Types.ObjectId(req.body._id) },\n      { $set: jsondata },\n      { new: true }\n    );\n\n    if (!result) {\n      res.send({\n        status: 400,\n        message: \"Updation is Failed\",\n      });\n    } else {\n      res.send({\n        status: 200,\n        message: \"Updated Successfully\",\n        result: result,\n      });\n    }\n  } catch (e) {\n    console.log(e);\n  }\n};\n\n// Delete\nexport const deleteAssist = async (req, res) => {\n  try {\n    let _id = req.params._id;\n    console.log(_id);\n    const user = await User.deleteOne({ _id: mongoose.Types.ObjectId(_id) });\n    if (user) {\n      res.send({\n        status: true,\n        message: \"success\",\n        result: user,\n      });\n    }\n  } catch (e) {\n    throw e;\n  }\n};\n\n// Search\n// export const allAssist = async (req, res) => {\n//   console.log(req.query.name);\n\n\n//   const users = await User.find({ name: { $regex: req.query.name, $options: \"i\"} });\n//   if (users)\n//     res.send({\n//       status: 200,\n//       message: \"Assist search\",\n//       result: users,\n//     });\n// };\n"],"mappings":"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"}},"mtime":1663417121429},"{\"assumptions\":{},\"sourceRoot\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend\",\"filename\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/routes/Physician.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"allowTopLevelThis\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _Physician = require(\"../controller/Physician\");\n\nvar _Nurse = require(\"../controller/Nurse\");\n\nvar _uploadFile = require(\"../middleware/uploadFile\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nrouter.post(\"/physicianSignup\", _uploadFile.upload.single('image'), _Physician.physicianSignup);\nrouter.post(\"/physicianLogin\", _Physician.physicianLogin);\nrouter.get(\"/getPhyDataById\", _Physician.getPhyDataById);\nrouter.post(\"/getPhysicianList\", _Physician.getPhysicianList);\nrouter.put(\"/updatephysician\", _Physician.updatePhysician);\nrouter.delete(\"/deletephysician/:id\", _Physician.deletephysician);\nrouter.get(\"/count\", _Physician.Count);\nrouter.get('/list', _Nurse.List);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwicG9zdCIsInVwbG9hZCIsInNpbmdsZSIsInBoeXNpY2lhblNpZ251cCIsInBoeXNpY2lhbkxvZ2luIiwiZ2V0IiwiZ2V0UGh5RGF0YUJ5SWQiLCJnZXRQaHlzaWNpYW5MaXN0IiwicHV0IiwidXBkYXRlUGh5c2ljaWFuIiwiZGVsZXRlIiwiZGVsZXRlcGh5c2ljaWFuIiwiQ291bnQiLCJMaXN0Il0sInNvdXJjZVJvb3QiOiIvaG9tZS9yb3NoYW5pbWFubW9kZS9Sb3NobmkgUHJvamVjdC9jYXJlIGNvbW11bmljYXRpb24vZG9ja05vY2svQmFja2VuZC9yb3V0ZXMvIiwic291cmNlcyI6WyJQaHlzaWNpYW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcbmltcG9ydCB7XG4gIGRlbGV0ZXBoeXNpY2lhbixcbiAgZ2V0UGh5c2ljaWFuTGlzdCxcbiAgcGh5c2ljaWFuTG9naW4sXG4gIHBoeXNpY2lhblNpZ251cCxcbiAgdXBkYXRlUGh5c2ljaWFuLFxuICBDb3VudCxcbiAgZ2V0UGh5RGF0YUJ5SWRcbn0gZnJvbSBcIi4uL2NvbnRyb2xsZXIvUGh5c2ljaWFuXCI7XG5pbXBvcnQgeyBMaXN0IH0gZnJvbSBcIi4uL2NvbnRyb2xsZXIvTnVyc2VcIjtcbmltcG9ydCB7IHVwbG9hZCB9IGZyb20gJy4uL21pZGRsZXdhcmUvdXBsb2FkRmlsZSc7XG5cblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxucm91dGVyLnBvc3QoXCIvcGh5c2ljaWFuU2lnbnVwXCIsdXBsb2FkLnNpbmdsZSgnaW1hZ2UnKSwgcGh5c2ljaWFuU2lnbnVwKTtcbnJvdXRlci5wb3N0KFwiL3BoeXNpY2lhbkxvZ2luXCIsIHBoeXNpY2lhbkxvZ2luKTtcbnJvdXRlci5nZXQoXCIvZ2V0UGh5RGF0YUJ5SWRcIixnZXRQaHlEYXRhQnlJZCk7XG5yb3V0ZXIucG9zdChcIi9nZXRQaHlzaWNpYW5MaXN0XCIsIGdldFBoeXNpY2lhbkxpc3QpO1xucm91dGVyLnB1dChcIi91cGRhdGVwaHlzaWNpYW5cIiwgdXBkYXRlUGh5c2ljaWFuKTtcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlcGh5c2ljaWFuLzppZFwiLCBkZWxldGVwaHlzaWNpYW4pO1xucm91dGVyLmdldChcIi9jb3VudFwiLCBDb3VudCk7XG5yb3V0ZXIuZ2V0KCcvbGlzdCcsTGlzdCk7XG5cblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBU0E7O0FBQ0E7Ozs7QUFHQSxNQUFNQSxNQUFNLEdBQUdDLGdCQUFBLENBQVFDLE1BQVIsRUFBZjs7QUFFQUYsTUFBTSxDQUFDRyxJQUFQLENBQVksa0JBQVosRUFBK0JDLGtCQUFBLENBQU9DLE1BQVAsQ0FBYyxPQUFkLENBQS9CLEVBQXVEQywwQkFBdkQ7QUFDQU4sTUFBTSxDQUFDRyxJQUFQLENBQVksaUJBQVosRUFBK0JJLHlCQUEvQjtBQUNBUCxNQUFNLENBQUNRLEdBQVAsQ0FBVyxpQkFBWCxFQUE2QkMseUJBQTdCO0FBQ0FULE1BQU0sQ0FBQ0csSUFBUCxDQUFZLG1CQUFaLEVBQWlDTywyQkFBakM7QUFDQVYsTUFBTSxDQUFDVyxHQUFQLENBQVcsa0JBQVgsRUFBK0JDLDBCQUEvQjtBQUNBWixNQUFNLENBQUNhLE1BQVAsQ0FBYyxzQkFBZCxFQUFzQ0MsMEJBQXRDO0FBQ0FkLE1BQU0sQ0FBQ1EsR0FBUCxDQUFXLFFBQVgsRUFBcUJPLGdCQUFyQjtBQUNBZixNQUFNLENBQUNRLEdBQVAsQ0FBVyxPQUFYLEVBQW1CUSxXQUFuQjtlQUdlaEIsTSJ9","map":{"version":3,"names":["router","express","Router","post","upload","single","physicianSignup","physicianLogin","get","getPhyDataById","getPhysicianList","put","updatePhysician","delete","deletephysician","Count","List"],"sourceRoot":"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/routes/","sources":["Physician.js"],"sourcesContent":["import express from \"express\";\nimport {\n  deletephysician,\n  getPhysicianList,\n  physicianLogin,\n  physicianSignup,\n  updatePhysician,\n  Count,\n  getPhyDataById\n} from \"../controller/Physician\";\nimport { List } from \"../controller/Nurse\";\nimport { upload } from '../middleware/uploadFile';\n\n\nconst router = express.Router();\n\nrouter.post(\"/physicianSignup\",upload.single('image'), physicianSignup);\nrouter.post(\"/physicianLogin\", physicianLogin);\nrouter.get(\"/getPhyDataById\",getPhyDataById);\nrouter.post(\"/getPhysicianList\", getPhysicianList);\nrouter.put(\"/updatephysician\", updatePhysician);\nrouter.delete(\"/deletephysician/:id\", deletephysician);\nrouter.get(\"/count\", Count);\nrouter.get('/list',List);\n\n\nexport default router;\n"],"mappings":";;;;;;;AAAA;;AACA;;AASA;;AACA;;;;AAGA,MAAMA,MAAM,GAAGC,gBAAA,CAAQC,MAAR,EAAf;;AAEAF,MAAM,CAACG,IAAP,CAAY,kBAAZ,EAA+BC,kBAAA,CAAOC,MAAP,CAAc,OAAd,CAA/B,EAAuDC,0BAAvD;AACAN,MAAM,CAACG,IAAP,CAAY,iBAAZ,EAA+BI,yBAA/B;AACAP,MAAM,CAACQ,GAAP,CAAW,iBAAX,EAA6BC,yBAA7B;AACAT,MAAM,CAACG,IAAP,CAAY,mBAAZ,EAAiCO,2BAAjC;AACAV,MAAM,CAACW,GAAP,CAAW,kBAAX,EAA+BC,0BAA/B;AACAZ,MAAM,CAACa,MAAP,CAAc,sBAAd,EAAsCC,0BAAtC;AACAd,MAAM,CAACQ,GAAP,CAAW,QAAX,EAAqBO,gBAArB;AACAf,MAAM,CAACQ,GAAP,CAAW,OAAX,EAAmBQ,WAAnB;eAGehB,M"}},"mtime":1663312267957},"{\"assumptions\":{},\"sourceRoot\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/controller/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend\",\"filename\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/controller/Physician.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"allowTopLevelThis\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.updatePhysician = exports.physicianSignup = exports.physicianLogin = exports.getPhysicianList = exports.getPhyDataById = exports.deletephysician = exports.Count = void 0;\n\nvar _User = _interopRequireDefault(require(\"../model/User\"));\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _sendMail = require(\"../middleware/sendMail\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar generator = require(\"generate-password\"); // Signup API  -post method\n\n\nconst physicianSignup = async (req, res) => {\n  // var pass = generator.generate({\n  //   length: 10,\n  //   numbers: true,\n  // });\n  // console.log(pass);\n  const physicianAdd = new _User.default({\n    name: req.body.name,\n    email: req.body.email,\n    location: req.body.location,\n    contact: req.body.contact,\n    //password: bcrypt.hashSync(pass, 8),\n    role: req.body.role,\n    image: req.file.filename\n  });\n  const data = await physicianAdd.save();\n  const _id = data._id;\n  const link = `http://localhost:3000/setup-page/${_id}&`;\n\n  if (data) {\n    (0, _sendMail.SendEmail)(\"roshnimanmode07@gmail.com\", req.body.email, `Hello ${physicianAdd.name}`, `Please Complete your SetUp  --\n     click on link : ${link}\n        `);\n    res.send({\n      status: \"200\",\n      message: \"Physician  registered successfully\",\n      result: data\n    });\n  }\n}; //  Login -post\n\n\nexports.physicianSignup = physicianSignup;\n\nconst physicianLogin = async (req, res) => {\n  const {\n    email,\n    password,\n    role\n  } = req.body;\n  const result = await _User.default.findOne({\n    email,\n    role\n  });\n\n  if (!result) {\n    res.send({\n      status: false,\n      message: \"Invalid Credentials-Email is Incorrect !!!\"\n    });\n  }\n\n  const isValid = _bcrypt.default.compareSync(password, result.password);\n\n  if (isValid) {\n    let payload = {};\n    payload._id = result._id;\n    console.log(result);\n\n    _jsonwebtoken.default.sign(payload, \"SECRET_KEY\", {\n      expiresIn: \"24h\"\n    }, (err, token) => {\n      res.send({\n        status: true,\n        message: \"Successfully  Physician Login\",\n        result: token\n      });\n    });\n  } else {\n    res.send({\n      status: false,\n      message: \"Password is incorrect- Please enter correct password\"\n    });\n  }\n}; //  List - get\n\n\nexports.physicianLogin = physicianLogin;\n\nconst getPhysicianList = async (req, res) => {\n  try {\n    let dataid = await _User.default.paginate({\n      $and: [{\n        name: {\n          $regex: req.body.name,\n          $options: \"i\"\n        }\n      }, {\n        role: \"3\"\n      }]\n    }, {\n      page: req.body.page,\n      limit: req.body.limit\n    }, (err, result) => {\n      console.log(result);\n      res.send({\n        status: \"200\",\n        message: \"successfully getting list\",\n        result: result\n      });\n    });\n  } catch (e) {\n    throw e;\n  }\n}; //  Update\n\n\nexports.getPhysicianList = getPhysicianList;\n\nconst updatePhysician = async (req, res) => {\n  try {\n    let jsondata = {};\n\n    if (req.body.name) {\n      jsondata.name = req.body.name;\n    }\n\n    if (req.body.email) {\n      jsondata.email = req.body.email;\n    }\n\n    if (req.body.location) {\n      jsondata.location = req.body.location;\n    }\n\n    if (req.body.contact) {\n      jsondata.contact = req.body.contact;\n    }\n\n    console.log(jsondata);\n\n    _User.default.updateOne({\n      _id: _mongoose.default.Types.ObjectId(req.body._id)\n    }, {\n      $set: jsondata\n    }, {\n      new: true\n    }, (err, result) => {\n      if (err) {\n        res.send({\n          status: 404,\n          message: \"failed\",\n          result: err\n        });\n      } else {\n        res.send({\n          status: 200,\n          message: \"physician update successfully\",\n          result: result\n        });\n      }\n    });\n  } catch (e) {\n    throw e;\n  }\n}; //  Delete\n\n\nexports.updatePhysician = updatePhysician;\n\nconst deletephysician = async (req, res) => {\n  const {\n    id\n  } = req.params;\n  const deleteStude = await _User.default.deleteOne({\n    _id: _mongoose.default.Types.ObjectId(id)\n  });\n  res.send({\n    status: true,\n    message: \"Deleted Successfully\"\n  });\n}; // Count\n\n\nexports.deletephysician = deletephysician;\n\nconst Count = async (req, res) => {\n  try {\n    const countPhysician = await _User.default.countDocuments({\n      role: \"3\"\n    });\n    const countNurse = await _User.default.countDocuments({\n      role: \"4\"\n    });\n    res.send({\n      status: true,\n      message: \"getting count Successfully\",\n      countPhysician: countPhysician,\n      countNurse: countNurse\n    });\n  } catch (e) {\n    console.log(e);\n  }\n};\n\nexports.Count = Count;\n\nconst getPhyDataById = async (req, res) => {\n  try {\n    console.log(req.query._id);\n    let dataid = await _User.default.findOne({\n      _id: _mongoose.default.Types.ObjectId(req.query._id)\n    });\n    res.send({\n      status: \"200\",\n      message: \"successfully getting data of phy by id\",\n      result: dataid\n    });\n  } catch (e) {\n    throw e;\n  }\n};\n\nexports.getPhyDataById = getPhyDataById;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnZW5lcmF0b3IiLCJyZXF1aXJlIiwicGh5c2ljaWFuU2lnbnVwIiwicmVxIiwicmVzIiwicGh5c2ljaWFuQWRkIiwiVXNlciIsIm5hbWUiLCJib2R5IiwiZW1haWwiLCJsb2NhdGlvbiIsImNvbnRhY3QiLCJyb2xlIiwiaW1hZ2UiLCJmaWxlIiwiZmlsZW5hbWUiLCJkYXRhIiwic2F2ZSIsIl9pZCIsImxpbmsiLCJTZW5kRW1haWwiLCJzZW5kIiwic3RhdHVzIiwibWVzc2FnZSIsInJlc3VsdCIsInBoeXNpY2lhbkxvZ2luIiwicGFzc3dvcmQiLCJmaW5kT25lIiwiaXNWYWxpZCIsImJjcnlwdCIsImNvbXBhcmVTeW5jIiwicGF5bG9hZCIsImNvbnNvbGUiLCJsb2ciLCJqd3QiLCJzaWduIiwiZXhwaXJlc0luIiwiZXJyIiwidG9rZW4iLCJnZXRQaHlzaWNpYW5MaXN0IiwiZGF0YWlkIiwicGFnaW5hdGUiLCIkYW5kIiwiJHJlZ2V4IiwiJG9wdGlvbnMiLCJwYWdlIiwibGltaXQiLCJlIiwidXBkYXRlUGh5c2ljaWFuIiwianNvbmRhdGEiLCJ1cGRhdGVPbmUiLCJtb25nb29zZSIsIlR5cGVzIiwiT2JqZWN0SWQiLCIkc2V0IiwibmV3IiwiZGVsZXRlcGh5c2ljaWFuIiwiaWQiLCJwYXJhbXMiLCJkZWxldGVTdHVkZSIsImRlbGV0ZU9uZSIsIkNvdW50IiwiY291bnRQaHlzaWNpYW4iLCJjb3VudERvY3VtZW50cyIsImNvdW50TnVyc2UiLCJnZXRQaHlEYXRhQnlJZCIsInF1ZXJ5Il0sInNvdXJjZVJvb3QiOiIvaG9tZS9yb3NoYW5pbWFubW9kZS9Sb3NobmkgUHJvamVjdC9jYXJlIGNvbW11bmljYXRpb24vZG9ja05vY2svQmFja2VuZC9jb250cm9sbGVyLyIsInNvdXJjZXMiOlsiUGh5c2ljaWFuLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVc2VyIGZyb20gXCIuLi9tb2RlbC9Vc2VyXCI7XG5pbXBvcnQgYmNyeXB0IGZyb20gXCJiY3J5cHRcIjtcbmltcG9ydCBqd3QgZnJvbSBcImpzb253ZWJ0b2tlblwiO1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xuaW1wb3J0IHsgU2VuZEVtYWlsIH0gZnJvbSBcIi4uL21pZGRsZXdhcmUvc2VuZE1haWxcIjtcbnZhciBnZW5lcmF0b3IgPSByZXF1aXJlKFwiZ2VuZXJhdGUtcGFzc3dvcmRcIik7XG5cbi8vIFNpZ251cCBBUEkgIC1wb3N0IG1ldGhvZFxuZXhwb3J0IGNvbnN0IHBoeXNpY2lhblNpZ251cCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAvLyB2YXIgcGFzcyA9IGdlbmVyYXRvci5nZW5lcmF0ZSh7XG4gIC8vICAgbGVuZ3RoOiAxMCxcbiAgLy8gICBudW1iZXJzOiB0cnVlLFxuICAvLyB9KTtcbiAgLy8gY29uc29sZS5sb2cocGFzcyk7XG5cbiAgY29uc3QgcGh5c2ljaWFuQWRkID0gbmV3IFVzZXIoe1xuICAgIG5hbWU6IHJlcS5ib2R5Lm5hbWUsXG4gICAgZW1haWw6IHJlcS5ib2R5LmVtYWlsLFxuICAgIGxvY2F0aW9uOiByZXEuYm9keS5sb2NhdGlvbixcbiAgICBjb250YWN0OiByZXEuYm9keS5jb250YWN0LFxuICAgICAvL3Bhc3N3b3JkOiBiY3J5cHQuaGFzaFN5bmMocGFzcywgOCksXG4gICAgcm9sZTogcmVxLmJvZHkucm9sZSxcbiAgICBpbWFnZTogcmVxLmZpbGUuZmlsZW5hbWUsXG4gIH0pO1xuXG4gIGNvbnN0IGRhdGEgPSBhd2FpdCBwaHlzaWNpYW5BZGQuc2F2ZSgpO1xuICBjb25zdCBfaWQgPSBkYXRhLl9pZFxuICBjb25zdCBsaW5rID0gYGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9zZXR1cC1wYWdlLyR7X2lkfSZgXG4gIGlmIChkYXRhKSB7XG4gICBTZW5kRW1haWwoXG4gICAgXCJyb3NobmltYW5tb2RlMDdAZ21haWwuY29tXCIsXG4gICAgcmVxLmJvZHkuZW1haWwsXG4gICAgYEhlbGxvICR7cGh5c2ljaWFuQWRkLm5hbWV9YCxcbiAgICBgUGxlYXNlIENvbXBsZXRlIHlvdXIgU2V0VXAgIC0tXG4gICAgIGNsaWNrIG9uIGxpbmsgOiAke2xpbmt9XG4gICAgICAgIGBcbiAgICAgICAgKTtcbiAgXG4gICAgcmVzLnNlbmQoe1xuICAgICAgc3RhdHVzOiBcIjIwMFwiLFxuICAgICAgbWVzc2FnZTogXCJQaHlzaWNpYW4gIHJlZ2lzdGVyZWQgc3VjY2Vzc2Z1bGx5XCIsXG4gICAgICByZXN1bHQ6IGRhdGEsXG4gICAgfSk7XG4gIH1cbn07XG5cbi8vICBMb2dpbiAtcG9zdFxuZXhwb3J0IGNvbnN0IHBoeXNpY2lhbkxvZ2luID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHsgZW1haWwsIHBhc3N3b3JkLCByb2xlIH0gPSByZXEuYm9keTtcblxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyBlbWFpbCwgcm9sZSB9KTtcbiAgaWYgKCFyZXN1bHQpIHtcbiAgICByZXMuc2VuZCh7XG4gICAgICBzdGF0dXM6IGZhbHNlLFxuICAgICAgbWVzc2FnZTogXCJJbnZhbGlkIENyZWRlbnRpYWxzLUVtYWlsIGlzIEluY29ycmVjdCAhISFcIixcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IGlzVmFsaWQgPSBiY3J5cHQuY29tcGFyZVN5bmMocGFzc3dvcmQsIHJlc3VsdC5wYXNzd29yZCk7XG5cbiAgaWYgKGlzVmFsaWQpIHtcbiAgICBsZXQgcGF5bG9hZCA9IHt9O1xuICAgIHBheWxvYWQuX2lkID0gcmVzdWx0Ll9pZDtcbiAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuICAgIGp3dC5zaWduKHBheWxvYWQsIFwiU0VDUkVUX0tFWVwiLCB7IGV4cGlyZXNJbjogXCIyNGhcIiB9LCAoZXJyLCB0b2tlbikgPT4ge1xuICAgICAgcmVzLnNlbmQoe1xuICAgICAgICBzdGF0dXM6IHRydWUsXG4gICAgICAgIG1lc3NhZ2U6IFwiU3VjY2Vzc2Z1bGx5ICBQaHlzaWNpYW4gTG9naW5cIixcbiAgICAgICAgcmVzdWx0OiB0b2tlbixcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJlcy5zZW5kKHtcbiAgICAgIHN0YXR1czogZmFsc2UsXG4gICAgICBtZXNzYWdlOiBcIlBhc3N3b3JkIGlzIGluY29ycmVjdC0gUGxlYXNlIGVudGVyIGNvcnJlY3QgcGFzc3dvcmRcIixcbiAgICB9KTtcbiAgfVxufTtcblxuLy8gIExpc3QgLSBnZXRcbmV4cG9ydCBjb25zdCBnZXRQaHlzaWNpYW5MaXN0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgbGV0IGRhdGFpZCA9IGF3YWl0IFVzZXIucGFnaW5hdGUoXG4gICAgICB7XG4gICAgICAgICRhbmQ6IFtcbiAgICAgICAgICB7IG5hbWU6IHsgJHJlZ2V4OiByZXEuYm9keS5uYW1lLCAkb3B0aW9uczogXCJpXCIgfSB9LFxuICAgICAgICAgIHsgcm9sZTogXCIzXCIgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHBhZ2U6IHJlcS5ib2R5LnBhZ2UsXG4gICAgICAgIGxpbWl0OiByZXEuYm9keS5saW1pdCxcbiAgICAgIH0sXG4gICAgICAoZXJyLCByZXN1bHQpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcbiAgICAgICAgcmVzLnNlbmQoe1xuICAgICAgICAgIHN0YXR1czogXCIyMDBcIixcbiAgICAgICAgICBtZXNzYWdlOiBcInN1Y2Nlc3NmdWxseSBnZXR0aW5nIGxpc3RcIixcbiAgICAgICAgICByZXN1bHQ6IHJlc3VsdCxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHRocm93IGU7XG4gIH1cbn07XG5cbi8vICBVcGRhdGVcbmV4cG9ydCBjb25zdCB1cGRhdGVQaHlzaWNpYW4gPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgdHJ5IHtcbiAgICBsZXQganNvbmRhdGEgPSB7fTtcblxuICAgIGlmIChyZXEuYm9keS5uYW1lKSB7XG4gICAgICBqc29uZGF0YS5uYW1lID0gcmVxLmJvZHkubmFtZTtcbiAgICB9XG4gICAgaWYgKHJlcS5ib2R5LmVtYWlsKSB7XG4gICAgICBqc29uZGF0YS5lbWFpbCA9IHJlcS5ib2R5LmVtYWlsO1xuICAgIH1cbiAgICBpZiAocmVxLmJvZHkubG9jYXRpb24pIHtcbiAgICAgIGpzb25kYXRhLmxvY2F0aW9uID0gcmVxLmJvZHkubG9jYXRpb247XG4gICAgfVxuICAgIGlmIChyZXEuYm9keS5jb250YWN0KSB7XG4gICAgICBqc29uZGF0YS5jb250YWN0ID0gcmVxLmJvZHkuY29udGFjdDtcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyhqc29uZGF0YSk7XG4gICAgVXNlci51cGRhdGVPbmUoXG4gICAgICB7IF9pZDogbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWQocmVxLmJvZHkuX2lkKSB9LFxuICAgICAgeyAkc2V0OiBqc29uZGF0YSB9LFxuICAgICAgeyBuZXc6IHRydWUgfSxcbiAgICAgIChlcnIsIHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmVzLnNlbmQoeyBzdGF0dXM6IDQwNCwgbWVzc2FnZTogXCJmYWlsZWRcIiwgcmVzdWx0OiBlcnIgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzLnNlbmQoe1xuICAgICAgICAgICAgc3RhdHVzOiAyMDAsXG4gICAgICAgICAgICBtZXNzYWdlOiBcInBoeXNpY2lhbiB1cGRhdGUgc3VjY2Vzc2Z1bGx5XCIsXG4gICAgICAgICAgICByZXN1bHQ6IHJlc3VsdCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB0aHJvdyBlO1xuICB9XG59O1xuXG4vLyAgRGVsZXRlXG5leHBvcnQgY29uc3QgZGVsZXRlcGh5c2ljaWFuID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHsgaWQgfSA9IHJlcS5wYXJhbXM7XG5cbiAgY29uc3QgZGVsZXRlU3R1ZGUgPSBhd2FpdCBVc2VyLmRlbGV0ZU9uZSh7XG4gICAgX2lkOiBtb25nb29zZS5UeXBlcy5PYmplY3RJZChpZCksXG4gIH0pO1xuXG4gIHJlcy5zZW5kKHtcbiAgICBzdGF0dXM6IHRydWUsXG4gICAgbWVzc2FnZTogXCJEZWxldGVkIFN1Y2Nlc3NmdWxseVwiLFxuICB9KTtcbn07XG5cbi8vIENvdW50XG5leHBvcnQgY29uc3QgQ291bnQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBjb3VudFBoeXNpY2lhbiA9IGF3YWl0IFVzZXIuY291bnREb2N1bWVudHMoeyByb2xlOiBcIjNcIiB9KTtcbiAgICBjb25zdCBjb3VudE51cnNlID0gYXdhaXQgVXNlci5jb3VudERvY3VtZW50cyh7IHJvbGU6IFwiNFwiIH0pO1xuICAgIHJlcy5zZW5kKHtcbiAgICAgIHN0YXR1czogdHJ1ZSxcbiAgICAgIG1lc3NhZ2U6IFwiZ2V0dGluZyBjb3VudCBTdWNjZXNzZnVsbHlcIixcbiAgICAgIGNvdW50UGh5c2ljaWFuOiBjb3VudFBoeXNpY2lhbixcbiAgICAgIGNvdW50TnVyc2U6IGNvdW50TnVyc2UsXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmxvZyhlKTtcbiAgfVxufTtcblxuXG5leHBvcnQgY29uc3QgZ2V0UGh5RGF0YUJ5SWQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zb2xlLmxvZyhyZXEucXVlcnkuX2lkKVxuICAgIFxuICAgIGxldCBkYXRhaWQgPSBhd2FpdCBVc2VyLmZpbmRPbmUoe1xuICAgICAgX2lkOiBtb25nb29zZS5UeXBlcy5PYmplY3RJZChyZXEucXVlcnkuX2lkKSxcbiAgICB9KTtcbiAgICByZXMuc2VuZCh7XG4gICAgICBzdGF0dXM6IFwiMjAwXCIsXG4gICAgICBtZXNzYWdlOiBcInN1Y2Nlc3NmdWxseSBnZXR0aW5nIGRhdGEgb2YgcGh5IGJ5IGlkXCIsXG4gICAgICByZXN1bHQ6IGRhdGFpZCxcbiAg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","map":{"version":3,"names":["generator","require","physicianSignup","req","res","physicianAdd","User","name","body","email","location","contact","role","image","file","filename","data","save","_id","link","SendEmail","send","status","message","result","physicianLogin","password","findOne","isValid","bcrypt","compareSync","payload","console","log","jwt","sign","expiresIn","err","token","getPhysicianList","dataid","paginate","$and","$regex","$options","page","limit","e","updatePhysician","jsondata","updateOne","mongoose","Types","ObjectId","$set","new","deletephysician","id","params","deleteStude","deleteOne","Count","countPhysician","countDocuments","countNurse","getPhyDataById","query"],"sourceRoot":"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/controller/","sources":["Physician.js"],"sourcesContent":["import User from \"../model/User\";\nimport bcrypt from \"bcrypt\";\nimport jwt from \"jsonwebtoken\";\nimport mongoose from \"mongoose\";\nimport { SendEmail } from \"../middleware/sendMail\";\nvar generator = require(\"generate-password\");\n\n// Signup API  -post method\nexport const physicianSignup = async (req, res) => {\n  // var pass = generator.generate({\n  //   length: 10,\n  //   numbers: true,\n  // });\n  // console.log(pass);\n\n  const physicianAdd = new User({\n    name: req.body.name,\n    email: req.body.email,\n    location: req.body.location,\n    contact: req.body.contact,\n     //password: bcrypt.hashSync(pass, 8),\n    role: req.body.role,\n    image: req.file.filename,\n  });\n\n  const data = await physicianAdd.save();\n  const _id = data._id\n  const link = `http://localhost:3000/setup-page/${_id}&`\n  if (data) {\n   SendEmail(\n    \"roshnimanmode07@gmail.com\",\n    req.body.email,\n    `Hello ${physicianAdd.name}`,\n    `Please Complete your SetUp  --\n     click on link : ${link}\n        `\n        );\n  \n    res.send({\n      status: \"200\",\n      message: \"Physician  registered successfully\",\n      result: data,\n    });\n  }\n};\n\n//  Login -post\nexport const physicianLogin = async (req, res) => {\n  const { email, password, role } = req.body;\n\n  const result = await User.findOne({ email, role });\n  if (!result) {\n    res.send({\n      status: false,\n      message: \"Invalid Credentials-Email is Incorrect !!!\",\n    });\n  }\n\n  const isValid = bcrypt.compareSync(password, result.password);\n\n  if (isValid) {\n    let payload = {};\n    payload._id = result._id;\n    console.log(result);\n    jwt.sign(payload, \"SECRET_KEY\", { expiresIn: \"24h\" }, (err, token) => {\n      res.send({\n        status: true,\n        message: \"Successfully  Physician Login\",\n        result: token,\n      });\n    });\n  } else {\n    res.send({\n      status: false,\n      message: \"Password is incorrect- Please enter correct password\",\n    });\n  }\n};\n\n//  List - get\nexport const getPhysicianList = async (req, res) => {\n  try {\n    let dataid = await User.paginate(\n      {\n        $and: [\n          { name: { $regex: req.body.name, $options: \"i\" } },\n          { role: \"3\" },\n        ],\n      },\n      {\n        page: req.body.page,\n        limit: req.body.limit,\n      },\n      (err, result) => {\n        console.log(result);\n        res.send({\n          status: \"200\",\n          message: \"successfully getting list\",\n          result: result,\n        });\n      }\n    );\n  } catch (e) {\n    throw e;\n  }\n};\n\n//  Update\nexport const updatePhysician = async (req, res) => {\n  try {\n    let jsondata = {};\n\n    if (req.body.name) {\n      jsondata.name = req.body.name;\n    }\n    if (req.body.email) {\n      jsondata.email = req.body.email;\n    }\n    if (req.body.location) {\n      jsondata.location = req.body.location;\n    }\n    if (req.body.contact) {\n      jsondata.contact = req.body.contact;\n    }\n\n    console.log(jsondata);\n    User.updateOne(\n      { _id: mongoose.Types.ObjectId(req.body._id) },\n      { $set: jsondata },\n      { new: true },\n      (err, result) => {\n        if (err) {\n          res.send({ status: 404, message: \"failed\", result: err });\n        } else {\n          res.send({\n            status: 200,\n            message: \"physician update successfully\",\n            result: result,\n          });\n        }\n      }\n    );\n  } catch (e) {\n    throw e;\n  }\n};\n\n//  Delete\nexport const deletephysician = async (req, res) => {\n  const { id } = req.params;\n\n  const deleteStude = await User.deleteOne({\n    _id: mongoose.Types.ObjectId(id),\n  });\n\n  res.send({\n    status: true,\n    message: \"Deleted Successfully\",\n  });\n};\n\n// Count\nexport const Count = async (req, res) => {\n  try {\n    const countPhysician = await User.countDocuments({ role: \"3\" });\n    const countNurse = await User.countDocuments({ role: \"4\" });\n    res.send({\n      status: true,\n      message: \"getting count Successfully\",\n      countPhysician: countPhysician,\n      countNurse: countNurse,\n    });\n  } catch (e) {\n    console.log(e);\n  }\n};\n\n\nexport const getPhyDataById = async (req, res) => {\n  try {\n    console.log(req.query._id)\n    \n    let dataid = await User.findOne({\n      _id: mongoose.Types.ObjectId(req.query._id),\n    });\n    res.send({\n      status: \"200\",\n      message: \"successfully getting data of phy by id\",\n      result: dataid,\n    });\n  } catch (e) {\n    throw e;\n  }\n};\n"],"mappings":"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"}},"mtime":1663334320664},"{\"assumptions\":{},\"sourceRoot\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/routes/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend\",\"filename\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/routes/NursingHome.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"allowTopLevelThis\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _NursingHome = require(\"../controller/NursingHome\");\n\nvar _Nurse = require(\"../controller/Nurse\");\n\nvar _uploadFile = require(\"../middleware/uploadFile\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nrouter.post(\"/addNursingHome\", _uploadFile.upload.single('image'), _NursingHome.addNursingHome);\nrouter.post(\"/nursehomeLogin\", _NursingHome.nursehomeLogin);\nrouter.post(\"/getnursinghome\", _NursingHome.getnursinghome);\nrouter.delete(\"/deleteNursingcompany/:_id\", _NursingHome.deleteNursingcompany);\nrouter.put(\"/ nursinghomeUpdate\", _NursingHome.nursinghomeUpdate);\nrouter.get('/list', _Nurse.List);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwicG9zdCIsInVwbG9hZCIsInNpbmdsZSIsImFkZE51cnNpbmdIb21lIiwibnVyc2Vob21lTG9naW4iLCJnZXRudXJzaW5naG9tZSIsImRlbGV0ZSIsImRlbGV0ZU51cnNpbmdjb21wYW55IiwicHV0IiwibnVyc2luZ2hvbWVVcGRhdGUiLCJnZXQiLCJMaXN0Il0sInNvdXJjZVJvb3QiOiIvaG9tZS9yb3NoYW5pbWFubW9kZS9Sb3NobmkgUHJvamVjdC9jYXJlIGNvbW11bmljYXRpb24vZG9ja05vY2svQmFja2VuZC9yb3V0ZXMvIiwic291cmNlcyI6WyJOdXJzaW5nSG9tZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJ1xuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcbmltcG9ydCB7IGFkZE51cnNpbmdIb21lLCBnZXRudXJzaW5naG9tZSxkZWxldGVOdXJzaW5nY29tcGFueSwgbnVyc2Vob21lTG9naW4sIG51cnNpbmdob21lVXBkYXRlIH0gZnJvbSAnLi4vY29udHJvbGxlci9OdXJzaW5nSG9tZSc7XG5pbXBvcnQgeyBMaXN0IH0gZnJvbSBcIi4uL2NvbnRyb2xsZXIvTnVyc2VcIjtcbmltcG9ydCB7IHVwbG9hZCB9IGZyb20gJy4uL21pZGRsZXdhcmUvdXBsb2FkRmlsZSc7XG5cbnJvdXRlci5wb3N0KFwiL2FkZE51cnNpbmdIb21lXCIsdXBsb2FkLnNpbmdsZSgnaW1hZ2UnKSxhZGROdXJzaW5nSG9tZSlcbnJvdXRlci5wb3N0KFwiL251cnNlaG9tZUxvZ2luXCIsbnVyc2Vob21lTG9naW4pXG5yb3V0ZXIucG9zdChcIi9nZXRudXJzaW5naG9tZVwiLCBnZXRudXJzaW5naG9tZSlcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlTnVyc2luZ2NvbXBhbnkvOl9pZFwiLGRlbGV0ZU51cnNpbmdjb21wYW55KVxucm91dGVyLnB1dChcIi8gbnVyc2luZ2hvbWVVcGRhdGVcIiwgbnVyc2luZ2hvbWVVcGRhdGUpXG5yb3V0ZXIuZ2V0KCcvbGlzdCcsTGlzdCk7XG5cblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBRUE7O0FBQ0E7O0FBQ0E7Ozs7QUFIQSxNQUFNQSxNQUFNLEdBQUdDLGdCQUFBLENBQVFDLE1BQVIsRUFBZjs7QUFLQUYsTUFBTSxDQUFDRyxJQUFQLENBQVksaUJBQVosRUFBOEJDLGtCQUFBLENBQU9DLE1BQVAsQ0FBYyxPQUFkLENBQTlCLEVBQXFEQywyQkFBckQ7QUFDQU4sTUFBTSxDQUFDRyxJQUFQLENBQVksaUJBQVosRUFBOEJJLDJCQUE5QjtBQUNBUCxNQUFNLENBQUNHLElBQVAsQ0FBWSxpQkFBWixFQUErQkssMkJBQS9CO0FBQ0FSLE1BQU0sQ0FBQ1MsTUFBUCxDQUFjLDRCQUFkLEVBQTJDQyxpQ0FBM0M7QUFDQVYsTUFBTSxDQUFDVyxHQUFQLENBQVcscUJBQVgsRUFBa0NDLDhCQUFsQztBQUNBWixNQUFNLENBQUNhLEdBQVAsQ0FBVyxPQUFYLEVBQW1CQyxXQUFuQjtlQUdlZCxNIn0=","map":{"version":3,"names":["router","express","Router","post","upload","single","addNursingHome","nursehomeLogin","getnursinghome","delete","deleteNursingcompany","put","nursinghomeUpdate","get","List"],"sourceRoot":"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/routes/","sources":["NursingHome.js"],"sourcesContent":["import express from 'express'\nconst router = express.Router();\nimport { addNursingHome, getnursinghome,deleteNursingcompany, nursehomeLogin, nursinghomeUpdate } from '../controller/NursingHome';\nimport { List } from \"../controller/Nurse\";\nimport { upload } from '../middleware/uploadFile';\n\nrouter.post(\"/addNursingHome\",upload.single('image'),addNursingHome)\nrouter.post(\"/nursehomeLogin\",nursehomeLogin)\nrouter.post(\"/getnursinghome\", getnursinghome)\nrouter.delete(\"/deleteNursingcompany/:_id\",deleteNursingcompany)\nrouter.put(\"/ nursinghomeUpdate\", nursinghomeUpdate)\nrouter.get('/list',List);\n\n\nexport default router"],"mappings":";;;;;;;AAAA;;AAEA;;AACA;;AACA;;;;AAHA,MAAMA,MAAM,GAAGC,gBAAA,CAAQC,MAAR,EAAf;;AAKAF,MAAM,CAACG,IAAP,CAAY,iBAAZ,EAA8BC,kBAAA,CAAOC,MAAP,CAAc,OAAd,CAA9B,EAAqDC,2BAArD;AACAN,MAAM,CAACG,IAAP,CAAY,iBAAZ,EAA8BI,2BAA9B;AACAP,MAAM,CAACG,IAAP,CAAY,iBAAZ,EAA+BK,2BAA/B;AACAR,MAAM,CAACS,MAAP,CAAc,4BAAd,EAA2CC,iCAA3C;AACAV,MAAM,CAACW,GAAP,CAAW,qBAAX,EAAkCC,8BAAlC;AACAZ,MAAM,CAACa,GAAP,CAAW,OAAX,EAAmBC,WAAnB;eAGed,M"}},"mtime":1663224925090},"{\"assumptions\":{},\"sourceRoot\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/controller/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend\",\"filename\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/controller/NursingHome.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"allowTopLevelThis\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.19.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.nursinghomeUpdate = exports.nursehomeLogin = exports.getnursinghome = exports.deleteNursingcompany = exports.addNursingHome = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _User = _interopRequireDefault(require(\"../model/User\"));\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _sendMail = require(\"../middleware/sendMail\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Add\nconst addNursingHome = async (req, res) => {\n  const newNursing = new _User.default({\n    name: req.body.name,\n    email: req.body.email,\n    // password: bcrypt.hashSync(req.body.password, 8),\n    nursing_company: req.body.nursing_company,\n    location: req.body.location,\n    contact: req.body.contact,\n    role: req.body.role,\n    image: req.file.filename\n  });\n  const nursingdata = await newNursing.save();\n  const _id = nursingdata._id;\n  const link = `http://localhost:3000/setup-page/${_id}&`;\n\n  if (nursingdata) {\n    (0, _sendMail.SendEmail)(\"roshnimanmode07@gmail.com\", req.body.email, `Hello ${newNursing.name}`, `Please Complete your SetUp  --\n      click on link : ${link}\n          `);\n    res.send({\n      status: true,\n      message: \"added successfully\",\n      result: nursingdata\n    });\n  }\n};\n\nexports.addNursingHome = addNursingHome;\n\nconst nursehomeLogin = async (req, res) => {\n  const {\n    email,\n    password\n  } = req.body;\n  const result = await _User.default.findOne({\n    email\n  });\n\n  if (!result) {\n    res.send({\n      status: false,\n      message: \"Invalid Credentials-Email is Incorrect !!!\"\n    });\n  }\n\n  const isValid = _bcrypt.default.compareSync(password, result.password);\n\n  if (isValid) {\n    let payload = {};\n    payload._id = result._id;\n\n    _jsonwebtoken.default.sign(payload, \"SECRET_KEY\", {\n      expiresIn: \"24h\"\n    }, (err, token) => {\n      res.send({\n        status: true,\n        message: \"Successfully  Nurse Login\",\n        result: token,\n        role: result.role\n      });\n    });\n  } else {\n    res.send({\n      status: false,\n      message: \"Password is incorrect- Please enter correct password\"\n    });\n  }\n}; //  List\n\n\nexports.nursehomeLogin = nursehomeLogin;\n\nconst getnursinghome = async (req, res) => {\n  try {\n    const data = await _User.default.paginate({\n      $and: [{\n        name: {\n          $regex: req.body.name,\n          $options: \"i\"\n        }\n      }, {\n        role: \"1\"\n      }]\n    }, {\n      page: req.body.page,\n      limit: req.body.limit\n    }, (err, result) => {\n      console.log(result);\n      res.send({\n        status: 200,\n        message: \" showing nursing home list  \",\n        result: result\n      });\n    });\n  } catch (e) {\n    throw e;\n  }\n}; // delete\n\n\nexports.getnursinghome = getnursinghome;\n\nconst deleteNursingcompany = async (req, res) => {\n  const _id = req.params._id;\n  console.log(_id);\n  await _User.default.deleteOne({\n    _id\n  });\n  res.send({\n    status: true,\n    message: \"Deleted Successfully\"\n  });\n}; //    update\n\n\nexports.deleteNursingcompany = deleteNursingcompany;\n\nconst nursinghomeUpdate = async (req, res) => {\n  try {\n    let jsondata = {};\n\n    if (req.body.name) {\n      jsondata.name = req.body.name;\n    }\n\n    if (req.body.email) {\n      jsondata.email = req.body.email;\n    }\n\n    if (req.body.contact) {\n      jsondata.contact = req.body.contact;\n    }\n\n    if (req.body.location) {\n      jsondata.location = req.body.location;\n    }\n\n    if (req.body.password) {\n      jsondata.password = req.body.password;\n    }\n\n    _User.default.updateOne({\n      _id: req.body._id\n    }, {\n      $set: jsondata\n    }, {\n      new: true\n    }, (err, updatedlist) => {\n      if (err) {\n        res.send({\n          status: 404,\n          message: \"Failed\",\n          result: err\n        });\n      } else {\n        res.send({\n          status: 200,\n          message: \"Updated Successfully\",\n          result: updatedlist\n        });\n        console.log(updatedlist);\n      }\n    });\n  } catch (e) {\n    throw e;\n  }\n};\n\nexports.nursinghomeUpdate = nursinghomeUpdate;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhZGROdXJzaW5nSG9tZSIsInJlcSIsInJlcyIsIm5ld051cnNpbmciLCJ1c2VyIiwibmFtZSIsImJvZHkiLCJlbWFpbCIsIm51cnNpbmdfY29tcGFueSIsImxvY2F0aW9uIiwiY29udGFjdCIsInJvbGUiLCJpbWFnZSIsImZpbGUiLCJmaWxlbmFtZSIsIm51cnNpbmdkYXRhIiwic2F2ZSIsIl9pZCIsImxpbmsiLCJTZW5kRW1haWwiLCJzZW5kIiwic3RhdHVzIiwibWVzc2FnZSIsInJlc3VsdCIsIm51cnNlaG9tZUxvZ2luIiwicGFzc3dvcmQiLCJmaW5kT25lIiwiaXNWYWxpZCIsImJjcnlwdCIsImNvbXBhcmVTeW5jIiwicGF5bG9hZCIsImp3dCIsInNpZ24iLCJleHBpcmVzSW4iLCJlcnIiLCJ0b2tlbiIsImdldG51cnNpbmdob21lIiwiZGF0YSIsInBhZ2luYXRlIiwiJGFuZCIsIiRyZWdleCIsIiRvcHRpb25zIiwicGFnZSIsImxpbWl0IiwiY29uc29sZSIsImxvZyIsImUiLCJkZWxldGVOdXJzaW5nY29tcGFueSIsInBhcmFtcyIsImRlbGV0ZU9uZSIsIm51cnNpbmdob21lVXBkYXRlIiwianNvbmRhdGEiLCJ1cGRhdGVPbmUiLCIkc2V0IiwibmV3IiwidXBkYXRlZGxpc3QiXSwic291cmNlUm9vdCI6Ii9ob21lL3Jvc2hhbmltYW5tb2RlL1Jvc2huaSBQcm9qZWN0L2NhcmUgY29tbXVuaWNhdGlvbi9kb2NrTm9jay9CYWNrZW5kL2NvbnRyb2xsZXIvIiwic291cmNlcyI6WyJOdXJzaW5nSG9tZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XG5pbXBvcnQgdXNlciBmcm9tIFwiLi4vbW9kZWwvVXNlclwiO1xuaW1wb3J0IGJjcnlwdCBmcm9tIFwiYmNyeXB0XCI7XG5pbXBvcnQgand0IGZyb20gXCJqc29ud2VidG9rZW5cIjtcbmltcG9ydCB7IFNlbmRFbWFpbCB9IGZyb20gXCIuLi9taWRkbGV3YXJlL3NlbmRNYWlsXCI7XG5cbi8vIEFkZFxuZXhwb3J0IGNvbnN0IGFkZE51cnNpbmdIb21lID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IG5ld051cnNpbmcgPSBuZXcgdXNlcih7XG4gICAgbmFtZTogcmVxLmJvZHkubmFtZSxcbiAgICBlbWFpbDogcmVxLmJvZHkuZW1haWwsXG4gICAgLy8gcGFzc3dvcmQ6IGJjcnlwdC5oYXNoU3luYyhyZXEuYm9keS5wYXNzd29yZCwgOCksXG4gICAgbnVyc2luZ19jb21wYW55OiByZXEuYm9keS5udXJzaW5nX2NvbXBhbnksXG4gICAgbG9jYXRpb246IHJlcS5ib2R5LmxvY2F0aW9uLFxuICAgIGNvbnRhY3Q6IHJlcS5ib2R5LmNvbnRhY3QsXG4gICAgcm9sZTogcmVxLmJvZHkucm9sZSxcbiAgICBpbWFnZTogcmVxLmZpbGUuZmlsZW5hbWUsXG4gIH0pO1xuXG4gIGNvbnN0IG51cnNpbmdkYXRhID0gYXdhaXQgbmV3TnVyc2luZy5zYXZlKCk7XG4gIGNvbnN0IF9pZCA9IG51cnNpbmdkYXRhLl9pZDtcbiAgY29uc3QgbGluayA9IGBodHRwOi8vbG9jYWxob3N0OjMwMDAvc2V0dXAtcGFnZS8ke19pZH0mYDtcblxuICBpZiAobnVyc2luZ2RhdGEpIHtcbiAgICBTZW5kRW1haWwoXG4gICAgICBcInJvc2huaW1hbm1vZGUwN0BnbWFpbC5jb21cIixcbiAgICAgIHJlcS5ib2R5LmVtYWlsLFxuICAgICAgYEhlbGxvICR7bmV3TnVyc2luZy5uYW1lfWAsXG4gICAgICBgUGxlYXNlIENvbXBsZXRlIHlvdXIgU2V0VXAgIC0tXG4gICAgICBjbGljayBvbiBsaW5rIDogJHtsaW5rfVxuICAgICAgICAgIGBcbiAgICApO1xuXG4gICAgcmVzLnNlbmQoe1xuICAgICAgc3RhdHVzOiB0cnVlLFxuICAgICAgbWVzc2FnZTogXCJhZGRlZCBzdWNjZXNzZnVsbHlcIixcbiAgICAgIHJlc3VsdDogbnVyc2luZ2RhdGEsXG4gICAgfSk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBudXJzZWhvbWVMb2dpbiA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XG5cbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdXNlci5maW5kT25lKHsgZW1haWwgfSk7XG4gIGlmICghcmVzdWx0KSB7XG4gICAgcmVzLnNlbmQoe1xuICAgICAgc3RhdHVzOiBmYWxzZSxcbiAgICAgIG1lc3NhZ2U6IFwiSW52YWxpZCBDcmVkZW50aWFscy1FbWFpbCBpcyBJbmNvcnJlY3QgISEhXCIsXG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBpc1ZhbGlkID0gYmNyeXB0LmNvbXBhcmVTeW5jKHBhc3N3b3JkLCByZXN1bHQucGFzc3dvcmQpO1xuXG4gIGlmIChpc1ZhbGlkKSB7XG4gICAgbGV0IHBheWxvYWQgPSB7fTtcbiAgICBwYXlsb2FkLl9pZCA9IHJlc3VsdC5faWQ7XG5cbiAgICBqd3Quc2lnbihwYXlsb2FkLCBcIlNFQ1JFVF9LRVlcIiwgeyBleHBpcmVzSW46IFwiMjRoXCIgfSwgKGVyciwgdG9rZW4pID0+IHtcbiAgICAgIHJlcy5zZW5kKHtcbiAgICAgICAgc3RhdHVzOiB0cnVlLFxuICAgICAgICBtZXNzYWdlOiBcIlN1Y2Nlc3NmdWxseSAgTnVyc2UgTG9naW5cIixcbiAgICAgICAgcmVzdWx0OiB0b2tlbixcbiAgICAgICAgcm9sZTogcmVzdWx0LnJvbGUsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXMuc2VuZCh7XG4gICAgICBzdGF0dXM6IGZhbHNlLFxuICAgICAgbWVzc2FnZTogXCJQYXNzd29yZCBpcyBpbmNvcnJlY3QtIFBsZWFzZSBlbnRlciBjb3JyZWN0IHBhc3N3b3JkXCIsXG4gICAgfSk7XG4gIH1cbn07XG5cbi8vICBMaXN0XG5leHBvcnQgY29uc3QgZ2V0bnVyc2luZ2hvbWUgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdXNlci5wYWdpbmF0ZShcbiAgICAgIHtcbiAgICAgICAgJGFuZDogW1xuICAgICAgICAgIHsgbmFtZTogeyAkcmVnZXg6IHJlcS5ib2R5Lm5hbWUsICRvcHRpb25zOiBcImlcIiB9IH0sXG4gICAgICAgICAgeyByb2xlOiBcIjFcIiB9LFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgcGFnZTogcmVxLmJvZHkucGFnZSxcbiAgICAgICAgbGltaXQ6IHJlcS5ib2R5LmxpbWl0LFxuICAgICAgfSxcbiAgICAgIChlcnIsIHJlc3VsdCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuICAgICAgICByZXMuc2VuZCh7XG4gICAgICAgICAgc3RhdHVzOiAyMDAsXG4gICAgICAgICAgbWVzc2FnZTogXCIgc2hvd2luZyBudXJzaW5nIGhvbWUgbGlzdCAgXCIsXG4gICAgICAgICAgcmVzdWx0OiByZXN1bHQsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB0aHJvdyBlO1xuICB9XG59O1xuXG4vLyBkZWxldGVcbmV4cG9ydCBjb25zdCBkZWxldGVOdXJzaW5nY29tcGFueSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCBfaWQgPSByZXEucGFyYW1zLl9pZDtcbiAgY29uc29sZS5sb2coX2lkKTtcbiAgYXdhaXQgdXNlci5kZWxldGVPbmUoe1xuICAgIF9pZCxcbiAgfSk7XG4gIHJlcy5zZW5kKHtcbiAgICBzdGF0dXM6IHRydWUsXG4gICAgbWVzc2FnZTogXCJEZWxldGVkIFN1Y2Nlc3NmdWxseVwiLFxuICB9KTtcbn07XG5cbi8vICAgIHVwZGF0ZVxuZXhwb3J0IGNvbnN0IG51cnNpbmdob21lVXBkYXRlID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgbGV0IGpzb25kYXRhID0ge307XG5cbiAgICBpZiAocmVxLmJvZHkubmFtZSkge1xuICAgICAganNvbmRhdGEubmFtZSA9IHJlcS5ib2R5Lm5hbWU7XG4gICAgfVxuICAgIGlmIChyZXEuYm9keS5lbWFpbCkge1xuICAgICAganNvbmRhdGEuZW1haWwgPSByZXEuYm9keS5lbWFpbDtcbiAgICB9XG4gICAgaWYgKHJlcS5ib2R5LmNvbnRhY3QpIHtcbiAgICAgIGpzb25kYXRhLmNvbnRhY3QgPSByZXEuYm9keS5jb250YWN0O1xuICAgIH1cbiAgICBpZiAocmVxLmJvZHkubG9jYXRpb24pIHtcbiAgICAgIGpzb25kYXRhLmxvY2F0aW9uID0gcmVxLmJvZHkubG9jYXRpb247XG4gICAgfVxuICAgIGlmIChyZXEuYm9keS5wYXNzd29yZCkge1xuICAgICAganNvbmRhdGEucGFzc3dvcmQgPSByZXEuYm9keS5wYXNzd29yZDtcbiAgICB9XG5cbiAgICB1c2VyLnVwZGF0ZU9uZShcbiAgICAgIHsgX2lkOiByZXEuYm9keS5faWQgfSxcbiAgICAgIHsgJHNldDoganNvbmRhdGEgfSxcbiAgICAgIHsgbmV3OiB0cnVlIH0sXG4gICAgICAoZXJyLCB1cGRhdGVkbGlzdCkgPT4ge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmVzLnNlbmQoe1xuICAgICAgICAgICAgc3RhdHVzOiA0MDQsXG4gICAgICAgICAgICBtZXNzYWdlOiBcIkZhaWxlZFwiLFxuICAgICAgICAgICAgcmVzdWx0OiBlcnIsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzLnNlbmQoe1xuICAgICAgICAgICAgc3RhdHVzOiAyMDAsXG4gICAgICAgICAgICBtZXNzYWdlOiBcIlVwZGF0ZWQgU3VjY2Vzc2Z1bGx5XCIsXG4gICAgICAgICAgICByZXN1bHQ6IHVwZGF0ZWRsaXN0LFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnNvbGUubG9nKHVwZGF0ZWRsaXN0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB0aHJvdyBlO1xuICB9XG59O1xuIl0sIm1hcHBpbmdz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","map":{"version":3,"names":["addNursingHome","req","res","newNursing","user","name","body","email","nursing_company","location","contact","role","image","file","filename","nursingdata","save","_id","link","SendEmail","send","status","message","result","nursehomeLogin","password","findOne","isValid","bcrypt","compareSync","payload","jwt","sign","expiresIn","err","token","getnursinghome","data","paginate","$and","$regex","$options","page","limit","console","log","e","deleteNursingcompany","params","deleteOne","nursinghomeUpdate","jsondata","updateOne","$set","new","updatedlist"],"sourceRoot":"/home/roshanimanmode/Roshni Project/care communication/dockNock/Backend/controller/","sources":["NursingHome.js"],"sourcesContent":["import mongoose from \"mongoose\";\nimport user from \"../model/User\";\nimport bcrypt from \"bcrypt\";\nimport jwt from \"jsonwebtoken\";\nimport { SendEmail } from \"../middleware/sendMail\";\n\n// Add\nexport const addNursingHome = async (req, res) => {\n  const newNursing = new user({\n    name: req.body.name,\n    email: req.body.email,\n    // password: bcrypt.hashSync(req.body.password, 8),\n    nursing_company: req.body.nursing_company,\n    location: req.body.location,\n    contact: req.body.contact,\n    role: req.body.role,\n    image: req.file.filename,\n  });\n\n  const nursingdata = await newNursing.save();\n  const _id = nursingdata._id;\n  const link = `http://localhost:3000/setup-page/${_id}&`;\n\n  if (nursingdata) {\n    SendEmail(\n      \"roshnimanmode07@gmail.com\",\n      req.body.email,\n      `Hello ${newNursing.name}`,\n      `Please Complete your SetUp  --\n      click on link : ${link}\n          `\n    );\n\n    res.send({\n      status: true,\n      message: \"added successfully\",\n      result: nursingdata,\n    });\n  }\n};\n\nexport const nursehomeLogin = async (req, res) => {\n  const { email, password } = req.body;\n\n  const result = await user.findOne({ email });\n  if (!result) {\n    res.send({\n      status: false,\n      message: \"Invalid Credentials-Email is Incorrect !!!\",\n    });\n  }\n\n  const isValid = bcrypt.compareSync(password, result.password);\n\n  if (isValid) {\n    let payload = {};\n    payload._id = result._id;\n\n    jwt.sign(payload, \"SECRET_KEY\", { expiresIn: \"24h\" }, (err, token) => {\n      res.send({\n        status: true,\n        message: \"Successfully  Nurse Login\",\n        result: token,\n        role: result.role,\n      });\n    });\n  } else {\n    res.send({\n      status: false,\n      message: \"Password is incorrect- Please enter correct password\",\n    });\n  }\n};\n\n//  List\nexport const getnursinghome = async (req, res) => {\n  try {\n    const data = await user.paginate(\n      {\n        $and: [\n          { name: { $regex: req.body.name, $options: \"i\" } },\n          { role: \"1\" },\n        ],\n      },\n      {\n        page: req.body.page,\n        limit: req.body.limit,\n      },\n      (err, result) => {\n        console.log(result);\n        res.send({\n          status: 200,\n          message: \" showing nursing home list  \",\n          result: result,\n        });\n      }\n    );\n  } catch (e) {\n    throw e;\n  }\n};\n\n// delete\nexport const deleteNursingcompany = async (req, res) => {\n  const _id = req.params._id;\n  console.log(_id);\n  await user.deleteOne({\n    _id,\n  });\n  res.send({\n    status: true,\n    message: \"Deleted Successfully\",\n  });\n};\n\n//    update\nexport const nursinghomeUpdate = async (req, res) => {\n  try {\n    let jsondata = {};\n\n    if (req.body.name) {\n      jsondata.name = req.body.name;\n    }\n    if (req.body.email) {\n      jsondata.email = req.body.email;\n    }\n    if (req.body.contact) {\n      jsondata.contact = req.body.contact;\n    }\n    if (req.body.location) {\n      jsondata.location = req.body.location;\n    }\n    if (req.body.password) {\n      jsondata.password = req.body.password;\n    }\n\n    user.updateOne(\n      { _id: req.body._id },\n      { $set: jsondata },\n      { new: true },\n      (err, updatedlist) => {\n        if (err) {\n          res.send({\n            status: 404,\n            message: \"Failed\",\n            result: err,\n          });\n        } else {\n          res.send({\n            status: 200,\n            message: \"Updated Successfully\",\n            result: updatedlist,\n          });\n          console.log(updatedlist);\n        }\n      }\n    );\n  } catch (e) {\n    throw e;\n  }\n};\n"],"mappings":"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"}},"mtime":1663325596016}}